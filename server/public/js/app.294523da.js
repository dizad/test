(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)r=o[u],i[r]&&p.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"14c3":function(e,t,a){e.exports=a.p+"img/background.6e553f2b.jpg"},"1f88":function(e,t){e.exports={capitalizeFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},getFriendlyDateTime:function(e){return moment(e).format("MM/DD/YY hh:mm A")},getFriendlyDate:function(e){return moment(e).format("MM/DD/YY")},getFriendlyTime:function(e){return moment(e).format("hh:mm A")},getPickerTime:function(e){return moment(e).format("HH:mm")},getPickerDate:function(e){return moment(e).format("YYYY-MM-DD")},getColor:function(e,t,a,s){return"rgba(".concat(e,", ").concat(t,", ").concat(a,", ").concat(s,")")},getKeyValueFriendly:function(e,t){return"".concat(t,"(").concat(e,")")}}},"1f88e":function(e,t,a){e.exports=a.p+"img/logo.ad0de1db.jpg"},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=n(e);return a(t)}function n(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=a("ce5b"),n=a.n(i),r=a("8c4f"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("transition",{attrs:{name:"fade"}},[e.dialogs.user.show?s("user",{attrs:{data:e.user,params:e.params},on:{closeDialog:function(t){return e.closeDialog(t,"user")}}}):e._e()],1),s("transition",{attrs:{name:"fade"}},[e.dialogs.eula.show?s("eula",{on:{closeDialog:function(t){return e.closeDialog(t,"eula")}}}):e._e()],1),s("img",{staticClass:"back-plate",staticStyle:{"background-size":"cover",position:"absolute"},attrs:{src:a("14c3")}}),s("v-card",{staticClass:"dizagara-outline-blue",staticStyle:{width:"450px","text-align":"center",margin:"100px auto auto auto"},attrs:{elevation:"2"}},[s("img",{staticStyle:{width:"80%","margin-top":"10px"},attrs:{id:"imageLogin",src:a("1f88e")}}),s("v-text-field",{staticStyle:{"margin-left":"30px","margin-right":"30px"},attrs:{dense:"",outlined:"",id:"firstFocus","append-icon":"mdi-account-circle",label:"Username",rules:[e.validate.required],placeholder:"Type username...",autocomplete:"off","background-color":"light-blue lighten-5"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{staticStyle:{"margin-left":"30px","margin-right":"30px"},attrs:{dense:"",outlined:"","append-icon":"mdi-lock",label:"Password",rules:[e.validate.required],placeholder:"Type password...",type:"password",autocomplete:"off","background-color":"light-blue lighten-5"},model:{value:e.fruit,callback:function(t){e.fruit=t},expression:"fruit"}}),s("v-card-actions",{staticStyle:{"background-color":"#2655a9 !important"}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""}},[s("v-card-text",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}}},[s("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{width:"100%",margin:"0px 0px 10px 0px","font-weight":"bold"},attrs:{dense:""},on:{click:function(t){return e.login()}}},[s("span",{staticClass:"mdi",attrs:{id:"loginIcon"}}),e._v("\n\t\t\t\tLOGIN\n\t\t\t")]),s("v-row",{staticClass:"align-center"},[s("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{margin:"10px",width:"190px"},attrs:{small:"",title:"Create an account"},on:{click:function(t){return e.register()}}},[s("span",{staticClass:"mdi",attrs:{id:"accountIcon"}}),e._v("\n\t\t\t\tREGISTER\n\t\t\t")]),s("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{margin:"10px",width:"190px"},attrs:{small:"",title:"Recover your password."},on:{click:function(t){return e.recover()}}},[s("span",{staticClass:"mdi",attrs:{id:"passwordIcon"}}),e._v("\n\t\t\t\tPASSWORD\n\t\t\t")])],1),s("span",{staticStyle:{"font-size":"small","font-style":"italic",color:"white","text-align":"center",margin:"auto"}},[e._v("\n\t\t\tversion = "+e._s(e.application.version)+" / last update = "+e._s(e.application.update)),s("br"),e._v("\n\t\t\tcontact "+e._s(e.application.email)+" for login issues")])],1)],1)],1)],1)],1)},c=[],l=(a("96cf"),a("3b8d")),d=a("d225"),u=a("b0b4"),p=a("bc3a"),h=a.n(p),m="api/posts/",g=function(){function e(){Object(d["a"])(this,e)}return Object(u["a"])(e,null,[{key:"getCollection",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="getCollection",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"setCollection",value:function(e){try{var t="setCollection";return h.a.post(m+t,e)}catch(a){reject(a)}}},{key:"getDocument",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="getDocument",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"setDocument",value:function(e){try{var t="setDocument";return h.a.post(m+t,e)}catch(a){reject(a)}}},{key:"getField",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="getField",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"setField",value:function(e){try{var t="setField";return h.a.post(m+t,e)}catch(a){reject(a)}}},{key:"getToken",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="getToken",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"getUser",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="getUser",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"getLicenseByUser",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="getLicenseByUser",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"getIds",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="getIds",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"isLicenseUsed",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="isLicenseUsed",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"getConfig",value:function(e){return new Promise(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a,s){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i="getConfig",t.next=4,h.a.post(m+i,e);case 4:n=t.sent,a(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())}}]),e}(),f=g,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"1000px","margin-top":"100px"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"primary",staticStyle:{color:"white"}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right dizagara-margin-left",attrs:{id:"headerIcon"}}),e._v("\r\n\t\tUser   \r\n\t")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-row",[a("v-col",[a("v-card",{staticClass:"dizagara-panel-body dizagara-panel-height-01",staticStyle:{margin:"10px 0px 20px 10px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"licenseIcon"}}),e._v("\r\n\t\t\tLicensing\r\n\t\t")]),a("v-card-text",[a("v-autocomplete",{attrs:{dense:"",outlined:"",id:"firstFocus","background-color":"yellow lighten-4",items:e.lists.privileges,"item-text":function(e){return e},label:"Privilege",rules:[e.validate.required]},model:{value:e.user.privilege,callback:function(t){e.$set(e.user,"privilege",t)},expression:"user.privilege"}}),"hospital"==e.user.privilege?a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.hospitals,"item-text":function(e){return e.name},"item-value":function(e){return e.key},label:"Hospital",rules:[e.validate.required]},model:{value:e.user.facility,callback:function(t){e.$set(e.user,"facility",t)},expression:"user.facility"}}):e._e(),"center"==e.user.privilege?a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.centers,"item-text":function(e){return e.name},"item-value":function(e){return e.key},label:"Center",rules:[e.validate.required]},model:{value:e.user.facility,callback:function(t){e.$set(e.user,"facility",t)},expression:"user.facility"}}):e._e(),a("v-text-field",{attrs:{dense:"",outlined:"",autocomplete:"off",placeholder:"Contact dizagara@gmail.com for license#...","background-color":"yellow lighten-4",label:"License#",rules:[e.validate.required]},model:{value:e.user.license,callback:function(t){e.$set(e.user,"license",t)},expression:"user.license"}})],1)],1),a("v-card",{staticClass:"dizagara-panel-body dizagara-panel-height-01",staticStyle:{margin:"10px 0px 0px 10px"},attrs:{outlined:""}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"identityIcon"}}),e._v("\r\n\t\tIdentity\r\n\t")]),a("v-card-text",{staticStyle:{padding:"20px 20px 0px 20px"}},[a("v-row",[a("v-text-field",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{dense:"",outlined:"",label:"First Name",rules:[e.validate.required],placeholder:"Type first name...",autocomplete:"off","background-color":"yellow lighten-4"},model:{value:e.user.first,callback:function(t){e.$set(e.user,"first",t)},expression:"user.first"}})],1),a("v-row",[a("v-text-field",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{dense:"",outlined:"",label:"Last Name",rules:[e.validate.required],placeholder:"Type last name...",autocomplete:"off","background-color":"yellow lighten-4"},model:{value:e.user.last,callback:function(t){e.$set(e.user,"last",t)},expression:"user.last"}})],1)],1)],1)],1),a("v-col",[a("v-card",{staticClass:"dizagara-panel-body dizagara-panel-height-01",staticStyle:{margin:"10px 10px 0px 0px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"contactIcon"}}),e._v("\r\n\t\tContact\r\n\t")]),a("v-card-text",{staticStyle:{padding:"20px 20px 0px 20px"}},[a("v-row",[a("v-text-field",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",autocomplete:"off",placeholder:"Type phone...",label:"Phone#",rules:[e.validate.required,e.validate.phone]},on:{keyup:function(t){return e.controlPhone()}},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),a("v-row",[a("v-text-field",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",autocomplete:"off",placeholder:"Type e-mail...",label:"E-mail",rules:[e.validate.required,e.validate.email]},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("v-row",[a("v-text-field",{staticStyle:{"margin-left":"10px","margin-right":"20px"},attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",autocomplete:"off",placeholder:"Type code sent to e-mail...",label:"Code",rules:[e.validate.required,e.validate.number]},model:{value:e.temp.code,callback:function(t){e.$set(e.temp,"code",t)},expression:"temp.code"}}),a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-right":"10px","margin-top":"2px"},attrs:{dense:"",rules:[e.validate.required,e.validate.number]},on:{click:function(t){return e.sendCode()}}},[a("span",{staticClass:"mdi mdi-24px mdi-signal-variant dizagara-margin-right dizagara-margin-left"}),e._v("\r\n\t\t\t\t\tE-MAIL CODE\r\n\t\t\t\t")])],1)],1)],1),a("v-card",{staticClass:"dizagara-panel-body dizagara-panel-height-01",staticStyle:{margin:"20px 10px 0px 0px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"authenticationIcon"}}),e._v("Authentication\r\n\t")]),a("v-card-text",{staticStyle:{padding:"20px 20px 0px 20px"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Username",rules:[e.validate.required],placeholder:"Type username...",autocomplete:"off","background-color":"yellow lighten-4"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),a("v-text-field",{attrs:{dense:"",outlined:"",label:"Type Password",rules:[e.validate.required,e.validate.password],placeholder:"Type password once...",type:"password",autocomplete:"off","background-color":"yellow lighten-4"},model:{value:e.user.fruit,callback:function(t){e.$set(e.user,"fruit",t)},expression:"user.fruit"}}),a("v-text-field",{attrs:{dense:"",outlined:"",label:"Re-Type Password",rules:[e.validate.required,e.validate.password],placeholder:"Type password twice...",type:"password",autocomplete:"off","background-color":"yellow lighten-4"},model:{value:e.temp.fruit,callback:function(t){e.$set(e.temp,"fruit",t)},expression:"temp.fruit"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticStyle:{"margin-top":"-30px"}},[a("v-row",[a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-button-width-medium",staticStyle:{"margin-right":"20px"},attrs:{dense:""},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px mdi-check-circle dizagara-margin-right"}),e._v("\r\n\t\t\t"+e._s(this.params.isNew?"ADD":"EDIT")+"\r\n\t\t")]),a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-medium",staticStyle:{"margin-right":"20px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px mdi-cancel dizagara-margin-right"}),e._v("\r\n\t\t\tCANCEL\r\n\t\t")])],1)],1)],1)],1)],1)])},b=[],x=(a("3b2b"),a("456d"),a("6b54"),a("ac6a"),a("6762"),a("2fdb"),a("7514"),a("a481"),a("4917"),a("7f7f"),a("9d5e")),y=a.n(x),k=a("fa7d"),w=a.n(k),C={name:"user",components:{},props:["data","params"],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,s,i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("user")),$("#licenseIcon").addClass(y.a.getIcon("license")),$("#identityIcon").addClass(y.a.getIcon("identity")),$("#authenticationIcon").addClass(y.a.getIcon("authentication")),$("#contactIcon").addClass(y.a.getIcon("contact"))},0),t=[],!this.params.data){e.next=6;break}t=w.a.deepClone(this.params.data),e.next=12;break;case 6:return e.next=8,f.getCollection({collection:"users"});case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:t=e.t0;case 12:return e.next=14,f.getCollection({collection:"hospitals"});case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=[];case 17:return a=e.t1,e.next=20,f.getCollection({collection:"centers"});case 20:if(e.t2=e.sent,e.t2){e.next=23;break}e.t2=[];case 23:return s=e.t2,e.next=26,f.getCollection({collection:"licenses"});case 26:if(e.t3=e.sent,e.t3){e.next=29;break}e.t3=[];case 29:return i=e.t3,e.next=32,f.getConfig({config:"application"});case 32:if(e.t4=e.sent,e.t4){e.next=35;break}e.t4={};case 35:this.application=e.t4,this.lists.hospitals=a.map(function(e){return{key:e._id,name:e.name}}),this.lists.centers=s.map(function(e){return{key:e._id,name:e.name}}),this.lists.licenses=w.a.deepClone(i),this.lists.usernames=t.map(function(e){return e.username}),!this.params.isNew&&this.data?(this.user=w.a.deepClone(this.data),this.temp.oldUser=this.user.username,this.temp.oldLicense=this.user.license):(n=t.map(function(e){return e._id}),this.user._id="use#".concat(w.a.getNextId(n)));case 41:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeAccountModal:function(){this.$emit("closeAccountModal")},sendCode:function(){toastr.info("Under construction, type any code for now!","",{closeButton:!0,positionClass:"toast-bottom-right"})},controlPhone:function(){if(this.user.phone){var e=this.user.phone.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/);this.user.phone=e[2]?"("+e[1]+") "+e[2]+(e[3]?"-"+e[3]:""):e[1]}},closeDialog:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,s,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("submit"!=t){e.next=26;break}if(this.$refs.form.validate()){e.next=4;break}return toastr.error(y.a.getToast("genericFormError"),"",{closeButton:!0,positionClass:"toast-bottom-right"}),e.abrupt("return");case 4:if(this.temp.fruit==this.user.fruit){e.next=7;break}return toastr.error("Passwords are not matching!","",{closeButton:!0,positionClass:"toast-bottom-right"}),e.abrupt("return");case 7:if(!this.params.validation||!this.params.validation.length){e.next=14;break}if(a=this.params.validation.find(function(e){return"username"==e.key}),!a.values.includes(this.user.username)||this.user.username==this.temp.oldUser){e.next=12;break}return toastr.error("Username already exists!","",{closeButton:!0,positionClass:"toast-bottom-right"}),e.abrupt("return");case 12:e.next=17;break;case 14:if(!this.lists.usernames.includes(this.user.username)||this.user.username==this.temp.oldUser){e.next=17;break}return toastr.error("Username already exists!","",{closeButton:!0,positionClass:"toast-bottom-right"}),e.abrupt("return");case 17:if(s=this.lists.licenses.find(function(e){return e.privilege==i.user.privilege&&e.license==i.user.license&&parseInt(e.usedAccounts)<parseInt(e.totalAccounts)&&moment(e.expiration).diff(moment(),"hours",!0)>0}),s){e.next=21;break}return this.lists.licenses.find(function(e){return e.privilege==i.user.privilege&&e.license!=i.user.license||e.privilege!=i.user.privilege&&e.license==i.user.license})?toastr.error("This license# is not valid for the privilege selected, contact ".concat(this.application.email," for assistance!"),"",{closeButton:!0,positionClass:"toast-bottom-right"}):this.lists.licenses.find(function(e){return e.privilege==i.user.privilege&&e.license==i.user.license&&parseInt(e.usedAccounts)>=parseInt(e.totalAccounts)})?toastr.error("This license# has no available accounts left, contact ".concat(this.application.email," for assistance!"),"",{closeButton:!0,positionClass:"toast-bottom-right"}):this.lists.licenses.find(function(e){return e.privilege==i.user.privilege&&e.license==i.user.license&&parseInt(e.usedAccounts)<parseInt(e.totalAccounts)&&moment(e.expiration).diff(moment(),"hours",!0)<=0})?toastr.error("This license# expired, contact ".concat(this.application.email," for assistance!"),"",{closeButton:!0,positionClass:"toast-bottom-right"}):toastr.error("This license# is not valid, contact ".concat(this.application.email," for assistance!"),"",{closeButton:!0,positionClass:"toast-bottom-right"}),e.abrupt("return");case 21:if(this.temp.oldLicense==this.user.license){e.next=24;break}return e.next=24,f.setField({collection:"licenses",matchField:"_id",matchValue:s._id,setField:"usedAccounts",setValue:(parseInt(s.usedAccounts)+1).toString()});case 24:"master"==this.user.privilege&&(this.user.facility="master"),Object.keys(this.user).forEach(function(e){i.user[e]&&"string"==typeof i.user[e]&&(i.user[e]=i.user[e].trim())});case 26:this.$emit("closeDialog",{action:t,data:this.user});case 27:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},data:function(e){return{application:{},lists:{privileges:["hospital","center","master"],hospitals:[],centers:[],licenses:[],usernames:[]},user:{privilege:"",facility:"",license:"",first:"",last:"",email:"",phone:"",username:"",fruit:"",isEula:!1},temp:{oldUser:"",code:"",fruit:""},validate:{required:function(e){return!!e||"Entry is required!"},number:function(e){return!isNaN(e)||"Number is required!"},password:function(e){return e&&e.length&&e.length>=2||"Password must have at least 1 chars!"},email:function(e){var t=new RegExp(/.+@.+\..+/);return t.test(e)||"Email must be in x@x.x format!"},phone:function(e){var t=new RegExp(/\d{3}.+?\d{3}.+?\d{4}/);return t.test(e)||"Phone must contain 9 digits!"}}}}},_=C,z=a("2877"),S=Object(z["a"])(_,v,b,!1,null,null,null),I=S.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"1000px","margin-top":"150px"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"primary",staticStyle:{color:"white"}},[a("span",{staticClass:"mdi mdi-24px iconRight",attrs:{id:"headerIcon"}}),e._v("\r\n\t\t\tEULA   \r\n\t\t")]),a("v-card-text",{staticStyle:{padding:"20px","overflow-y":"scroll",height:"calc(100vh - 400px)"}},[e._v("\r\n            "+e._s(e.about)+"\r\n\t\t")]),a("v-card-actions",[a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-button-width-medium",attrs:{id:"firstFocus",dense:"",dark:""},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px iconRight",attrs:{id:"acceptIcon"}}),e._v("\r\n\t\t\t\t\t\tACCEPT\r\n\t\t\t\t\t")]),a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-medium",staticStyle:{"margin-left":"20px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px iconRight",attrs:{id:"denyIcon"}}),e._v("\r\n\t\t\t\t\t\tDENY\r\n\t\t\t\t\t")])],1)],1)],1)],1)],1)])},E=[],j={name:"eula",components:{},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("eula")),$("#acceptIcon").addClass(y.a.getIcon("submit")),$("#denyIcon").addClass(y.a.getIcon("delete"))},0),e.next=3,f.getField({collection:"configs",matchField:"_id",matchValue:"application",getField:"eula"});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0="";case 6:this.about=e.t0;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeDialog:function(e){this.$emit("closeDialog",{action:e})}},data:function(e){return{about:""}}},T=j,O=Object(z["a"])(T,D,E,!1,null,null,null),P=O.exports,F={name:"login",components:{user:I,eula:P},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return setTimeout(function(){$("#firstFocus").focus(),$("#loginIcon").addClass(y.a.getIcon("login")),$("#accountIcon").addClass(y.a.getIcon("user")),$("#passwordIcon").addClass(y.a.getIcon("password"))},0),e.next=3,f.getConfig({config:"application"});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:this.application=e.t0,this.application.update=moment(this.application.update).format("MM/DD/YY");case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{login:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.form.validate()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f.getToken({username:this.username,fruit:this.fruit});case 4:t=e.sent,t.validUsername?t.validFruit?t.isEula?this.$router.push({path:"/dashboard/".concat(this.username)}):this.dialogs.eula.show=!0:toastr.error("Password is incorrect!","",{closeButton:!0,positionClass:"toast-bottom-right"}):toastr.error("Username does not exist!","",{closeButton:!0,positionClass:"toast-bottom-right"});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),register:function(){this.params.isNew=!0,this.dialogs.user.show=!0},recover:function(){toastr.info("Under construction!","",{closeButton:!0,positionClass:"toast-bottom-right"})},closeDialog:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.dialogs[a].show=!1,"submit"!=t.action){e.next=14;break}if("user"!=a){e.next=10;break}return t.data.modBy=t.data.username,t.data.modDate=moment(),e.next=7,f.setDocument({collection:"users",item:t.data});case 7:toastr.success("user added successfully!","",{closeButton:!0,positionClass:"toast-bottom-right"}),e.next=14;break;case 10:if("eula"!=a){e.next=14;break}return e.next=13,f.setField({collection:"users",matchField:"username",matchValue:this.username,setField:"isEula",setValue:!0});case 13:this.$router.push({path:"/dashboard/".concat(this.username)});case 14:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},data:function(){return{username:"",fruit:"",application:{},user:{},validate:{required:function(e){return!!e||"Entry required!"}},params:{},dialogs:{user:{show:!1},eula:{show:!1}}}}},R=F,A=Object(z["a"])(R,o,c,!1,null,null,null),q=A.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("transition",{attrs:{name:"fade"}},[e.dialogs.save.show?a("save",{on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.confirm.show?a("confirm",{attrs:{data:e.dialogs.confirm.question},on:{processConfirmation:function(t){return e.processConfirmation(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.procedure.show||e.dialogs.track.show||e.dialogs.diagnose.show||e.dialogs.patient.show||e.dialogs.code.show||e.dialogs.insurance.show||e.dialogs.room.show||e.dialogs.physician.show||e.dialogs.prep.show||e.dialogs.center.show||e.dialogs.hospital.show||e.dialogs.anesthesia.show||e.dialogs.specialty.show?a("generic",{attrs:{data:e.item,params:e.params},on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.user.show?a("user",{attrs:{data:e.item,params:e.params},on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.license.show?a("license",{attrs:{data:e.item,params:e.params},on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("banner",{staticClass:"no-print"}),a("v-card-title",{staticStyle:{color:"white","background-color":"#192c45 !important"},attrs:{"primary-title":""}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"headerIcon"}}),a("small",[e._v(e._s(e.title))]),a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{position:"absolute",right:"430px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.add()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"addIcon"}}),e._v("\r\n        ADD\r\n      ")]),a("v-btn",{staticClass:"dizagara-button-red",staticStyle:{position:"absolute",right:"130px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.deleteAll()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"deleteIcon"}}),e._v("\r\n        DELETE ALL\r\n      ")]),a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{position:"absolute",right:"295px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.exportSpreadsheet()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"exportIcon"}}),e._v("\r\n        EXPORT\r\n      ")]),a("v-btn",{staticClass:"dizagara-button-green",staticStyle:{position:"absolute",right:"15px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.save()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"saveIcon"}}),e._v("\r\n        SAVE\r\n      ")])],1),a("span",{staticStyle:{"overflow-y":"auto",height:"calc(100vh - 150px)"}},[a("v-card-title",{staticStyle:{"margin-bottom":"-40px"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{dense:"",outlined:"",autocomplete:"off","append-icon":"mdi-magnify","background-color":"yellow lighten-4",placeholder:"Type search term.",label:"Filter Term"},on:{keyup:e.filterTerm},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),a("v-autocomplete",{staticStyle:{"margin-left":"10px"},attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.filterCols,"item-text":function(e){return e.name},"item-value":function(e){return e.key},label:"Filter Column"},on:{change:e.filterTerm},model:{value:e.filterCol,callback:function(t){e.filterCol=t},expression:"filterCol"}})],1),e.data.length&&e.isShows?a("v-simple-table",{directives:[{name:"sortable-data-table",rawName:"v-sortable-data-table"}],staticStyle:{margin:"20px","padding-bottom":"20px"},on:{sorted:e.saveOrder},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[e._l(e.headers,function(t){return a("th",{key:t.key,staticClass:"text-left"},[e._v("\r\n                  "+e._s("isShow"==t.key?"":t.name)+"\r\n                "),"isShow"!=t.key?a("v-btn",{class:0==t.sort?"dizagara-button-blue dizagara-round-small":"dizagara-button-green dizagara-round-small",staticStyle:{"margin-right":"10px"},attrs:{dense:"",dark:"",small:"",icon:"",title:"Sort header."},on:{click:function(a){return e.sortHeader(t)}}},[1==t.sort?a("span",{staticClass:"mdi mdi-12px mdi-arrow-up"}):e._e(),0==t.sort?a("span",{staticClass:"mdi mdi-12px mdi-minus"}):e._e(),-1==t.sort?a("span",{staticClass:"mdi mdi-12px mdi-arrow-down"}):e._e()]):e._e()],1)}),a("th",{staticClass:"text-center"},[e._v("\r\n                  Action\r\n                ")])],2)]),a("tbody",e._l(e.data,function(t){return a("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"item.isShow"}],key:t._id},[e._l(Object.keys(t),function(s){return a("td",{key:s,staticClass:"text-left"},["_id"==s?a("span",[a("v-chip",{attrs:{dark:""}},[e._v("\r\n                      "+e._s(t._id)+"\r\n                      ")])],1):"preps"==s?a("span",e._l(t.preps,function(t){return a("span",{key:t.key},[a("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"light-blue darken-1",dark:""}},[e._v("\r\n                          "+e._s(t.name)+"\r\n                        ")])],1)}),0):"rooms"==s?a("span",e._l(t.rooms,function(t){return a("span",{key:t.key},[a("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"light-blue darken-1",dark:""}},[e._v("\r\n                          "+e._s(t.name)+"\r\n                        ")])],1)}),0):"anesthesia"==s?a("span",[e._v("\r\n                      "+e._s(t[s].name)+"\r\n                    ")]):"modDate"==s||"expiration"==s?a("span",[e._v("\r\n                   "+e._s(e.getFriendlyDateTime(t[s]))+"\r\n                  ")]):"isShow"!=s?a("span",[e._v("\r\n                    "+e._s(t[s])+"\r\n                  ")]):e._e()])}),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-round-medium",staticStyle:{"margin-right":"10px"},attrs:{dense:"",dark:"",small:"",icon:"",title:"Edit this item."},on:{click:function(a){return e.edit(t)}}},[a("span",{staticClass:"mdi mdi-18px mdi-pencil"})]),a("v-btn",{staticClass:"dizagara-button-red dizagara-round-medium",attrs:{dense:"",dark:"",small:"",icon:"",title:"Delete this item."},on:{click:function(a){return e.remove(t)}}},[a("span",{staticClass:"mdi mdi-18px mdi-close"})])],1)],2)}),0)]},proxy:!0}],null,!1,3366914775)}):e._e()],1),e.data.length&&e.isShows?e._e():a("label",{staticStyle:{color:"gray","text-align":"center",margin:"20px auto auto auto"}},[e._v("No Data")])],1)},B=[],L=(a("55dd"),a("20d6"),a("7618")),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"475px","margin-top":"100px"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"primary",staticStyle:{color:"white"}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"headerIcon"}}),e._v("\r\n    License   \r\n")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-autocomplete",{staticStyle:{margin:"20px 0px 0px 0px"},attrs:{dense:"",outlined:"",id:"firstFocus","background-color":"yellow lighten-4",items:e.lists.privileges,"item-text":function(e){return e},label:"Privilege",rules:[e.validate.required]},model:{value:e.license.privilege,callback:function(t){e.$set(e.license,"privilege",t)},expression:"license.privilege"}}),a("v-text-field",{staticStyle:{margin:"0px 0px 0px 0px"},attrs:{dense:"",outlined:"",autocomplete:"off","background-color":"yellow lighten-4",placeholder:"Type # of months from today.",label:"Expiration Months",type:"number",rules:[e.validate.required,e.validate.number]},on:{change:e.updateExpirationDate},model:{value:e.license.duration,callback:function(t){e.$set(e.license,"duration",t)},expression:"license.duration"}}),a("v-dialog",{ref:"menu",staticStyle:{margin:"0px 10px 0px 10px"},attrs:{"close-on-content-click":!1,"nudge-right":0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{"font-weight":"bold"},attrs:{dense:"",label:"Expiration Date","append-icon":"event",outlined:"",readonly:"","background-color":"yellow lighten-4",rules:[e.validate.required]},on:{blur:function(t){e.license.expiration=e.parseDate(e.datePicker.dateFormatted)},change:e.updateExpirationDuration},model:{value:e.datePicker.dateFormatted,callback:function(t){e.$set(e.datePicker,"dateFormatted",t)},expression:"datePicker.dateFormatted"}},s))]}}]),model:{value:e.datePicker.show,callback:function(t){e.$set(e.datePicker,"show",t)},expression:"datePicker.show"}},[a("v-date-picker",{attrs:{dense:""},on:{input:function(t){e.datePicker.show=!1}},model:{value:e.license.expiration,callback:function(t){e.$set(e.license,"expiration",t)},expression:"license.expiration"}})],1),a("v-text-field",{attrs:{dense:"",outlined:"",autocomplete:"off","background-color":"yellow lighten-4",placeholder:"Type # of accounts available...",label:"Total Accounts",type:"number",rules:[e.validate.required,e.validate.number]},model:{value:e.license.totalAccounts,callback:function(t){e.$set(e.license,"totalAccounts",t)},expression:"license.totalAccounts"}}),a("v-text-field",{attrs:{dense:"",outlined:"",autocomplete:"off","background-color":"yellow lighten-4",placeholder:"Type # of accounts used...",label:"Used Accounts",type:"number",rules:[e.validate.required,e.validate.number]},model:{value:e.license.usedAccounts,callback:function(t){e.$set(e.license,"usedAccounts",t)},expression:"license.usedAccounts"}}),a("v-text-field",{attrs:{readonly:"",dense:"",outlined:"",autocomplete:"off","background-color":"light-blue lighten-5",label:"License#"},model:{value:e.license.license,callback:function(t){e.$set(e.license,"license",t)},expression:"license.license"}})],1)],1),a("v-card-actions",{staticStyle:{"margin-top":"-40px"}},[a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-button-width-medium",staticStyle:{"margin-right":"10px"},attrs:{dense:""},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px mdi-check-circle dizagara-margin-right"}),e._v("\r\n\t\t\t"+e._s(this.params.isNew?"ADD":"EDIT")+"\r\n\t\t")]),a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-medium",staticStyle:{"margin-left":"10px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px mdi-cancel dizagara-margin-right"}),e._v("\r\n\t\t\tCANCEL\r\n\t\t")])],1)],1)],1)],1)],1)])},U=[],V=(a("f576"),a("28a5"),a("768b")),H={name:"license",components:{},props:["data","params"],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("license"))},0),this.params.isNew){t=w.a.deepClone(this.params.data)||[],a=t.length,s=a.toString();while(s.length<5)s="0"+s;this.license.license="".concat(s,"-").concat(this.getRandomFive(),"-").concat(this.getRandomFive(),"-").concat(this.getRandomFive()),this.license.expiration=this.getNow(0),this.datePicker.dateFormatted=this.formatDate(this.license.expiration)}else this.license=w.a.deepClone(this.data),this.datePicker.dateFormatted=this.formatDate(this.license.expiration);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{updateExpirationDuration:function(){var e=moment(this.license.expiration).diff(moment(),"months",!0);this.license.duration=Math.round(e)},updateExpirationDate:function(){var e=30*this.license.duration;this.license.expiration=this.getNow(e),this.datePicker.dateFormatted=this.formatDate(this.license.expiration)},getRandomFive:function(){var e="";while(e.length<5)e+=Math.floor(10*Math.random());return e},closeDialog:function(e){var t=this;if("submit"==e){if(this.license.duration<0)return void toastr.error("Duration can not be negative.","",{closeButton:!0,positionClass:"toast-bottom-right"});if(!this.$refs.form.validate())return void toastr.error(y.a.getToast("genericFormError"),"",{closeButton:!0,positionClass:"toast-bottom-right"})}Object.keys(this.license).forEach(function(e){t.license[e]&&"string"==typeof t.license[e]&&(t.license[e]=t.license[e].trim())}),this.$emit("closeDialog",{action:e,data:this.license})},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(V["a"])(t,3),s=a[0],i=a[1],n=a[2];return"".concat(i,"/").concat(n,"/").concat(s)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(V["a"])(t,3),s=a[0],i=a[1],n=a[2];return"".concat(n,"-").concat(s.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},getNow:function(e){var t=new Date;return t.setDate(t.getDate()+e),t.toISOString().substr(0,10)}},watch:{datePicker:{deep:!0,handler:function(){this.datePicker.dateFormatted=this.formatDate(this.license.expiration)}}},data:function(e){return{lists:{privileges:["hospital","center","master"]},license:{license:"",privilege:"",duration:"",expiration:"",totalAccounts:"",usedAccounts:""},datePicker:{show:!1,dateFormatted:""},validate:{required:function(e){return!!e||"Entry is required!"},number:function(e){return!isNaN(e)||"Number is required!"}}}}},Y=H,K=Object(z["a"])(Y,M,U,!1,null,null,null),J=K.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"325px","margin-top":"100px"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"headline primary",staticStyle:{color:"white"},attrs:{"primary-title":""}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"headerIcon"}}),e._v("\r\n        Confirm\r\n    ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-card-text",{staticClass:"text-center",staticStyle:{"padding-bottom":"0px","font-weight":"bold"}},[a("span",{staticClass:"text-primary",staticStyle:{"text-align":"center",margin:"auto"}},[e._v(e._s(e.data))])]),a("v-card-actions",[a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-right":"10px",width:"125px"},attrs:{id:"firstFocus"},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"confirmIcon"}}),e._v("\r\n                    DELETE\r\n                ")]),a("v-btn",{staticClass:"dizagara-button-red",staticStyle:{"margin-left":"10px",width:"125px"},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"cancelIcon"}}),e._v("\r\n                    CANCEL\r\n                ")])],1)],1)],1)],1)],1)],1)])},G=[],X=a("1f88"),Z=a.n(X),Q={name:"confirm",components:{},props:["data"],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.term=Z.a.capitalizeFirst(this.data),setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("caution")),$("#confirmIcon").addClass(y.a.getIcon("submit")),$("#cancelIcon").addClass(y.a.getIcon("cancel"))},0);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeDialog:function(e){this.$emit("processConfirmation",e)}},data:function(e){return{term:""}}},ee=Q,te=Object(z["a"])(ee,W,G,!1,null,null,null),ae=te.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"475px","margin-top":"100px"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"primary",staticStyle:{color:"white"}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"headerIcon"}}),e._v("\r\n        Edit "+e._s(e.title)+"   \r\n    ")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[e.generic.textboxes&&e.generic.textboxes.length?a("span",e._l(e.generic.textboxes,function(t,s){return a("span",{key:t.key},[a("v-text-field",{style:0==s?"margin-top: 20px;":"",attrs:{dense:"",outlined:"",autocomplete:"off",id:0==s?"firstFocus":"","background-color":"yellow lighten-4",placeholder:t.placeholder,label:t.label,type:"text",rules:[e.validate.required]},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"textbox.value"}})],1)}),0):e._e(),e.generic.dropdowns.length?a("span",e._l(e.generic.dropdowns,function(t,s){return a("span",{key:t.key},[a("v-autocomplete",{style:0!=s||e.generic.textboxes.length?"":"margin-top: 20px;",attrs:{dense:"",outlined:"","deletable-chips":"","background-color":"yellow lighten-4",label:t.label,items:t.items,chips:t.isMulti,multiple:t.isMulti,"item-text":function(e){return"string"==typeof e?e:e.name},"item-value":function(e){return e},rules:t.isRequired?[e.validate.required]:[]},scopedSlots:e._u([{key:"selection",fn:function(s){var i=s.item,n=s.index;return[a("v-chip",{attrs:{dark:"",close:"",color:"light-blue"},on:{"click:close":function(a){return e.remove(n,t.value)}}},[a("span",{staticStyle:{color:"white"}},[e._v("\r\n                            "+e._s("string"==typeof i?i:i.name)+"\r\n                        ")])])]}}],null,!0),model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dropdown.value"}})],1)}),0):e._e(),e.generic.checkboxes.length?a("span",e._l(e.generic.checkboxes,function(t){return a("span",{key:t.key},[a("v-checkbox",{staticStyle:{margin:"0px 0px 20px 0px"},attrs:{"hide-details":"",label:t.label},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"checkbox.value"}})],1)}),0):e._e()])],1),a("v-card-actions",{staticStyle:{"margin-top":"-40px"}},[a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-button-width-medium",staticStyle:{"margin-right":"10px"},attrs:{dense:""},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"okIcon"}}),e._v("\r\n                "+e._s(this.params.isNew?"ADD":"EDIT")+"\r\n            ")]),a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-medium",staticStyle:{"margin-left":"10px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"cancelIcon"}}),e._v("\r\n                CANCEL\r\n            ")])],1)],1)],1)],1)],1)])},ie=[],ne={name:"generic",props:["data","params"],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon(t.params.prop)),$("#okIcon").addClass(y.a.getIcon("submit")),$("#cancelIcon").addClass(y.a.getIcon("cancel"))},0),this.title=Z.a.capitalizeFirst(this.params.prop),this.generic=w.a.deepClone(this.data);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeDialog:function(e){var t=this;if("submit"==e){if(!this.$refs.form.validate())return void toastr.error(y.a.getToast("genericFormError"),"",{closeButton:!0,positionClass:"toast-bottom-right"});if(this.params.validation&&this.params.validation.length)for(var a=function(e){var a=t.params.validation[e],s=t.generic.textboxes.find(function(e){return e.key==a.key});if(a.values.some(function(e,a){return e==s.value&&a!=t.params.index}))return toastr.error("The '".concat(a.key,"' field is not unique!"),"",{closeButton:!0,positionClass:"toast-bottom-right"}),{v:void 0}},s=0;s<this.params.validation.length;s++){var i=a(s);if("object"===Object(L["a"])(i))return i.v}this.generic.textboxes.forEach(function(e){e.value&&"string"==typeof e.value&&(e.value=e.value.trim())})}this.$emit("closeDialog",{action:e,data:this.generic})},remove:function(e,t){t.splice(e,1)}},data:function(e){return{generic:{},title:"",validate:{required:function(e){return!!e||"Entry is required!"}}}}},re=ne,oe=Object(z["a"])(re,se,ie,!1,null,null,null),ce=oe.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"450px","margin-top":"calc(40vh)"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"headline primary",staticStyle:{color:"white"},attrs:{"primary-title":""}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"headerIcon"}}),e._v("\r\n        Confirm\r\n    ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-card-text",{staticClass:"text-center",staticStyle:{"padding-bottom":"0px","font-weight":"bold"}},[a("span",{staticClass:"text-primary",staticStyle:{"text-align":"center",margin:"auto"}},[e._v("Are you sure you want to exit without saving your changes?")])]),a("v-card-actions",[a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-button-width-short",attrs:{id:"firstFocus"},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"saveIcon"}}),e._v("\r\n                Save\r\n            ")]),a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-short",staticStyle:{"margin-left":"20px"},on:{click:function(t){return e.closeDialog("ignore")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"ignoreIcon"}}),e._v("\r\n                Ignore\r\n            ")]),a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-short",staticStyle:{"margin-left":"20px"},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"cancelIcon"}}),e._v("\r\n                CANCEL\r\n            ")])],1)],1)],1)],1)],1)],1)])},de=[],ue={name:"save",components:{},props:[],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("caution")),$("#saveIcon").addClass(y.a.getIcon("submit")),$("#ignoreIcon").addClass(y.a.getIcon("delete")),$("#cancelIcon").addClass(y.a.getIcon("cancel"))},0);case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeDialog:function(e){this.$emit("closeDialog",{action:e})}},data:function(e){return{}}},pe=ue,he=Object(z["a"])(pe,le,de,!1,null,null,null),me=he.exports,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("transition",{attrs:{name:"fade"}},[e.dialogs.about.show?s("about",{on:{closeDialog:function(t){return e.closeDialog(t,"about")}}}):e._e()],1),s("transition",{attrs:{name:"fade"}},[e.dialogs.user.show?s("user",{attrs:{data:e.user,params:e.params},on:{closeDialog:function(t){return e.closeDialog(t,"user")}}}):e._e()],1),s("v-toolbar",{staticStyle:{"border-radius":"0px","box-shadow":"none !important"},attrs:{color:"primary",dark:""}},[s("img",{staticStyle:{height:"65px",margin:"-20px"},attrs:{id:"imageBanner",src:a("f96e")}}),s("v-spacer"),s("v-chip",{staticStyle:{"margin-right":"10px"},attrs:{color:"success","text-color":"white",title:"User status."}},[e._v("\r\n            "+e._s(e.user.first)+", "+e._s(e.user.last)+" ("+e._s(e.user.username)+")\r\n            ")]),e.ready.right?s("v-chip",{staticStyle:{"margin-right":"10px"},attrs:{color:"success","text-color":"white",title:"User privilege."}},[s("span",{staticStyle:{color:"yellow","font-weight":"bold"}},[e._v(e._s(e.user.privilege.toUpperCase()))])]):e._e(),s("v-btn",{staticClass:"blue darken-4",staticStyle:{"margin-right":"10px",border:"1px solid #00376b !important"},attrs:{icon:"",title:"User"},on:{click:function(t){return e.edit()}}},[s("span",{staticClass:"mdi mdi-24px",attrs:{id:"userIcon"}})]),s("v-btn",{staticClass:"blue darken-4",staticStyle:{"margin-right":"10px",border:"1px solid #00376b !important"},attrs:{icon:"",title:"Help"},on:{click:function(t){return e.help()}}},[s("span",{staticClass:"mdi mdi-24px",attrs:{id:"helpIcon"}})]),s("v-btn",{staticClass:"blue darken-4",staticStyle:{"margin-right":"10px",border:"1px solid #00376b !important"},attrs:{icon:"",title:"About"},on:{click:function(t){return e.about()}}},[s("span",{staticClass:"mdi mdi-24px",attrs:{id:"aboutIcon"}})]),s("v-btn",{staticClass:"blue darken-4",staticStyle:{"margin-right":"0px",border:"1px solid #00376b !important"},attrs:{icon:"",title:"Logout"},on:{click:function(t){return e.logout()}}},[s("span",{staticClass:"mdi mdi-24px",attrs:{id:"logoutIcon"}})])],1),s("v-toolbar",{staticStyle:{"border-radius":"0px","background-color":"#244170",height:"60px"},attrs:{dense:"",dark:""}},[s("v-toolbar-items",{staticStyle:{"margin-left":"-10px",height:"40px"}},[s("v-btn",{staticClass:"dizagara-home-button dizagara-outline-blue",attrs:{small:"",title:"Go to dashboard."},on:{click:function(t){return e.redirect("dashboard")}}},[s("span",{staticClass:"mdi mdi-24px mdi-view-dashboard"})]),["master","center","hospital"].includes(e.user.privilege)&&!e.isExpired?s("v-menu",{attrs:{"open-on-hover":"","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"dizagara-banner-button dizagara-outline-blue"},"v-btn",i,!1),a),[s("span",{staticClass:"mdi mdi-18px mdi-hospital-box dizagara-margin-right"}),e._v("\r\n                        SERVICES\r\n                    ")])]}}],null,!1,307155818)},[s("v-list",e._l(e.dropdowns.services,function(t){return s("span",{key:t.id},[t.access.includes(e.user.privilege)?s("v-list-item",{on:{click:function(a){return e.redirect(t.id)}}},[s("v-list-item-action",[s("v-list-item-title",[s("span",{class:t.icon+" "+e.dropdowns.params.icon}),e._v("\r\n                                "+e._s(t.name)+"\r\n                            ")])],1)],1):e._e()],1)}),0)],1):e._e(),["master","center","hospital"].includes(e.user.privilege)&&!e.isExpired?s("v-menu",{attrs:{"open-on-hover":"","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"dizagara-banner-button dizagara-outline-blue"},"v-btn",i,!1),a),[s("span",{staticClass:"mdi mdi-18px mdi-book-open dizagara-margin-right"}),e._v("\r\n                        Properties\r\n                    ")])]}}],null,!1,2784993561)},[s("v-list",{attrs:{dense:""}},e._l(e.dropdowns.properties,function(t){return s("span",{key:t.id},[t.access.includes(e.user.privilege)?s("v-list-item",{on:{click:function(a){return e.redirect("properties",t.id)}}},[s("v-list-item-action",[s("v-list-item-title",[s("span",{class:t.icon+" "+e.dropdowns.params.icon}),e._v("\r\n                                    "+e._s(t.name)+"\r\n                                ")])],1)],1):e._e()],1)}),0)],1):e._e(),["master"].includes(e.user.privilege)&&!e.isExpired?s("v-menu",{attrs:{"open-on-hover":"","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"dizagara-banner-button dizagara-outline-blue"},"v-btn",i,!1),a),[s("span",{staticClass:"mdi mdi-18px mdi-key dizagara-margin-right"}),e._v("\r\n                        Restricted\r\n                    ")])]}}],null,!1,3023832770)},[s("v-list",{attrs:{dense:""}},e._l(e.dropdowns.restricted,function(t){return s("span",{key:t.id},[t.access.includes(e.user.privilege)?s("v-list-item",{on:{click:function(a){return e.redirect("properties",t.id)}}},[s("v-list-item-action",[s("v-list-item-title",[s("span",{class:t.icon+" "+e.dropdowns.params.icon}),e._v("\r\n                                    "+e._s(t.name)+"\r\n                                ")])],1)],1):e._e()],1)}),0)],1):e._e(),["master"].includes(e.user.privilege)&&!e.isExpired?s("v-menu",{attrs:{"open-on-hover":"","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"dizagara-banner-button dizagara-outline-blue"},"v-btn",i,!1),a),[s("span",{staticClass:"mdi mdi-18px mdi-settings dizagara-margin-right"}),e._v("\r\n                        Settings\r\n                    ")])]}}],null,!1,3590537928)},[s("v-list",{attrs:{dense:""}},e._l(e.dropdowns.settings,function(t){return s("span",{key:t.id},[t.access.includes(e.user.privilege)?s("v-list-item",{on:{click:function(a){return e.redirect("settings",t.id)}}},[s("v-list-item-action",[s("v-list-item-title",[s("span",{class:t.icon+" "+e.dropdowns.params.icon}),e._v("\r\n                                    "+e._s(t.name)+"\r\n                                ")])],1)],1):e._e()],1)}),0)],1):e._e()],1)],1)],1)},fe=[],ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"600px","margin-top":"150px"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"primary",staticStyle:{color:"white"}},[a("span",{staticClass:"mdi mdi-24px iconRight",attrs:{id:"headerIcon"}}),e._v("\r\n\t\t\tAbout   \r\n\t\t")]),a("v-card-text",{staticStyle:{padding:"20px"}},[a("v-icon",{attrs:{left:""}},[e._v("arrow_forward")]),a("label",[e._v("Title=")]),e._v("\r\n\t\t\t\t"),a("v-chip",{attrs:{color:"success"}},[e._v(e._s(e.application.title))]),a("br"),a("v-icon",{attrs:{left:""}},[e._v("arrow_forward")]),a("label",{staticStyle:{"padding-top":"10px"}},[e._v("Version=")]),e._v("\r\n\t\t\t\t"),a("v-chip",{attrs:{color:"success"}},[e._v(e._s(e.application.version))]),a("br"),a("v-icon",{attrs:{left:""}},[e._v("arrow_forward")]),a("label",{staticStyle:{"padding-top":"10px"}},[e._v("Last Update=")]),e._v("\r\n\t\t\t\t"),a("v-chip",{attrs:{color:"success"}},[e._v(e._s(e.application.update))]),a("br"),a("v-icon",{attrs:{left:""}},[e._v("arrow_forward")]),a("label",{staticStyle:{"padding-top":"10px"}},[e._v("Edition=")]),e._v("\r\n\t\t\t\t"),a("v-chip",{attrs:{color:"success"}},[e._v(e._s(e.application.edition))]),a("br"),a("v-icon",{attrs:{left:""}},[e._v("arrow_forward")]),a("label",{staticStyle:{"padding-top":"10px"}},[e._v("Headquarters=")]),e._v("\r\n\t\t\t\t"),a("v-chip",{attrs:{color:"success"}},[e._v(e._s(e.application.headquarters))]),a("br"),a("v-icon",{attrs:{left:""}},[e._v("arrow_forward")]),a("label",{staticStyle:{"padding-top":"10px"}},[e._v("Description=")]),e._v("\r\n\t\t\t\t"+e._s(e.application.description)),a("br")],1),a("v-card-actions",{staticStyle:{"margin-top":"-20px"}},[a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-button-width-medium",attrs:{dense:"",dark:"",id:"firstFocus"},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px iconRight",attrs:{id:"okIcon"}}),e._v("\r\n\t\t\t\t\t\tCLOSE\r\n\t\t\t\t\t")])],1)],1)],1)],1)],1)])},be=[],xe={name:"about",components:{},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("application")),$("#okIcon").addClass(y.a.getIcon("submit"))},0),e.next=3,f.getConfig({config:"application"});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:this.application=e.t0,this.application.update=moment(this.application.update).format("MM/DD/YY");case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeDialog:function(e){this.$emit("closeDialog",e)}},data:function(e){return{application:{}}}},ye=xe,ke=Object(z["a"])(ye,ve,be,!1,null,null,null),we=ke.exports,Ce={name:"banner",components:{about:we,user:I},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return setTimeout(function(){$("#userIcon").addClass(y.a.getIcon("user")),$("#helpIcon").addClass(y.a.getIcon("help")),$("#aboutIcon").addClass(y.a.getIcon("about")),$("#logoutIcon").addClass(y.a.getIcon("logout"))},0),this.dropdowns.properties.sort(function(e,t){return e.id.localeCompare(t.id)}),e.next=4,f.getUser({id:this.$route.params.id});case 4:return this.user=e.sent,this.user||this.$router.push({path:"/login"}),e.next=8,f.getField({collection:"licenses",matchField:"license",matchValue:this.user.license,getField:"expiration"});case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0="";case 11:t=e.t0,w.a.getHoursFromNow(t)<0&&(this.isExpired=!0),this.ready.right=!0;case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{redirect:function(e,t){var a="";a=t?"/".concat(e,"/").concat(t,"/").concat(this.user.username):"/".concat(e,"/").concat(this.user.username),this.$route.path!=a&&this.$router.push({path:a})},logout:function(){this.$router.push({path:"/login"}),toastr.info("Logged out successfully!","",{closeButton:!0,positionClass:"toast-bottom-right"})},help:function(){window.open("guide.pdf")},edit:function(){this.dialogs.user.show=!0},about:function(){this.dialogs.about.show=!0},closeDialog:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.dialogs[a].show=!1,"submit"!=t.action){e.next=8;break}return t.data.modBy=this.user.username,t.data.modDate=moment(),e.next=6,f.setDocument({collection:"users",item:t.data});case 6:this.user=w.a.deepClone(t.data),toastr.success("user updated successfully!","",{closeButton:!0,positionClass:"toast-bottom-right"});case 8:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),closeAccountModal:function(){this.showModals.user=!1}},data:function(e){return{isExpired:!1,dialogs:{user:{show:!1},about:{show:!1}},showModals:{about:!1,user:!1},ready:{right:!1},dropdowns:{params:{icon:"mdi mdi-18px dizagara-icon-gray icon-right"},settings:[{id:"calibration",name:"Calibration",icon:y.a.getIcon("calibration"),access:["master"]},{id:"application",name:"Application",icon:y.a.getIcon("application"),access:["master"]}],restricted:[{id:"user",name:"Users",icon:y.a.getIcon("user"),access:["master"]},{id:"license",name:"Licenses",icon:y.a.getIcon("license"),access:["master"]},{id:"center",name:"Centers",icon:y.a.getIcon("center"),access:["master"]},{id:"hospital",name:"Hospitals",icon:y.a.getIcon("hospital"),access:["master"]},{id:"track",name:"Tracks",icon:y.a.getIcon("track"),access:["master"]}],services:[{id:"scheduling",name:"Scheduling",icon:y.a.getIcon("schedule"),access:["master","center","hospital"]},{id:"tracking",name:"Tracking",icon:y.a.getIcon("track"),access:["master","center"]}],properties:[{id:"procedure",name:"Procedures",icon:y.a.getIcon("procedure"),access:["master","center","hospital"]},{id:"diagnose",name:"Diagnoses",icon:y.a.getIcon("diagnose"),access:["master","center","hospital"]},{id:"insurance",name:"Insurances",icon:y.a.getIcon("insurance"),access:["master","center","hospital"]},{id:"code",name:"Codes",icon:y.a.getIcon("code"),access:["master","center","hospital"]},{id:"patient",name:"Patients",icon:y.a.getIcon("patient"),access:["master","center","hospital"]},{id:"room",name:"Rooms",icon:y.a.getIcon("room"),access:["master","center"]},{id:"prep",name:"Preps",icon:y.a.getIcon("prep"),access:["master","center","hospital"]},{id:"physician",name:"Physicians",icon:y.a.getIcon("physician"),access:["master","center","hospital"]},{id:"anesthesia",name:"Anesthesias",icon:y.a.getIcon("anesthesia"),access:["master","center","hospital"]},{id:"specialty",name:"Specialties",icon:y.a.getIcon("specialty"),access:["master","center","hospital"]}]},user:{},params:{}}}},_e=Ce,ze=Object(z["a"])(_e,ge,fe,!1,null,null,null),Se=ze.exports,Ie=a("aa47"),De={name:"properties",components:{license:J,user:I,confirm:ae,banner:Se,sortable:Ie["a"],generic:ce,save:me},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.userId=this.$route.params.id,this.prop=this.$route.params.prop,this.params.prop=this.prop,setTimeout(function(){$("#headerIcon").addClass(y.a.getIcon(a.prop)),$("#addIcon").addClass(y.a.getIcon("add")),$("#saveIcon").addClass(y.a.getIcon("save")),$("#deleteIcon").addClass(y.a.getIcon("delete")),$("#exportIcon").addClass(y.a.getIcon("download"))},0),this.title="".concat(Z.a.capitalizeFirst(this.prop),"s"),"specialty"==this.prop&&(this.title="Specialties"),e.next=8,f.getCollection({collection:"specialties"});case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:return this.specialties=e.t0,e.next=14,f.getCollection({collection:"rooms"});case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=[];case 17:return this.rooms=e.t1,e.next=20,f.getCollection({collection:"preps"});case 20:if(e.t2=e.sent,e.t2){e.next=23;break}e.t2=[];case 23:return this.preps=e.t2,e.next=26,f.getCollection({collection:"anesthesias"});case 26:if(e.t3=e.sent,e.t3){e.next=29;break}e.t3=[];case 29:return this.anesthesias=e.t3,t="".concat(this.prop,"s"),"specialty"==this.prop&&(t="specialties"),e.next=34,f.getCollection({collection:t});case 34:if(e.t4=e.sent,e.t4){e.next=37;break}e.t4=[];case 37:this.data=e.t4,this.original=w.a.deepClone(this.data),this.data.forEach(function(e){return e.isShow=!0}),this.initTable(),"track"==this.prop&&(toastr.info("Drag and drop rows to change sequence!","",{closeButton:!0,positionClass:"toast-bottom-right"}),toastr.warning("Editing tracks will affect the tracking page!","",{closeButton:!0,positionClass:"toast-bottom-right"}));case 42:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),beforeRouteUpdate:function(e,t,a){if(this.redirect.hasConfirmed)this.redirect.hasConfirmed=!1,a();else{var s=w.a.deepClone(this.data);s.forEach(function(e){return delete e.isShow});var i=JSON.stringify(this.original),n=JSON.stringify(s);0!=i.localeCompare(n)?(this.redirect.path=e.fullPath,this.params.dialog="save",this.dialogs.save.show=!0):a()}},methods:{initTable:function(){var e=this;if(this.headers=[],this.filterCols=[{key:"all",name:"All"}],this.filterCol=this.filterCols[0].key,this.data.length){var t=Object.keys(this.data[0]),a=0;t.forEach(function(t){var s=Z.a.capitalizeFirst(t);"_id"==t?s="Key":"totalAccounts"==t?s="Total Accounts":"name"==t&&"code"==e.prop?s="Code":"usedAccounts"==t?s="Used Accounts":"modBy"==t&&0==a?(s="Moded By",a++):"modDate"==t&&1==a&&(s="Moded Date"),e.headers.push({key:t,name:s,type:Object(L["a"])(e.data[0][t]),sort:0}),e.omitFields.includes(t)||e.filterCols.push({key:t,name:s})})}},add:function(){"user"!=this.prop&&"license"!=this.prop&&(this.buildDropdownLists(),this.groupGenericFields()),"license"!=this.prop&&this.buildValidationParams(),"user"!=this.prop&&"license"!=this.prop||(this.params.data=this.data),this.params.isNew=!0,this.dialogs[this.prop].show=!0},edit:function(e){"user"!==this.prop&&"license"!==this.prop&&(this.buildDropdownLists(),this.buildValidationParams(),this.groupGenericFields(e)),"license"!=this.prop&&this.buildValidationParams(),"user"!=this.prop&&"license"!=this.prop||(this.params.data=this.data,this.item=e),this.params.index=this.data.findIndex(function(t){return t._id==e._id}),this.params.isNew=!1,this.dialogs[this.prop].show=!0},buildDropdownLists:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"patient"==this.prop&&this.dialogs[this.prop].dropdowns.forEach(function(e){"anesthesia"==e.field&&(e.items=t.anesthesias.map(function(e){return{key:e._id,name:e.name}}))}),"procedure"==this.prop&&this.dialogs[this.prop].dropdowns.forEach(function(e){"preps"==e.field&&(e.items=t.preps.filter(function(e){return"procedure"==e.type}).map(function(e){return{key:e._id,name:e.name}}))}),"center"==this.prop&&this.dialogs[this.prop].dropdowns.forEach(function(e){"rooms"==e.field&&(e.items=t.rooms.map(function(e){return{key:e._id,name:e.name}}))}),"physician"==this.prop&&this.dialogs[this.prop].dropdowns.forEach(function(e){"specialty"==e.field&&(e.items=t.specialties.map(function(e){return e.name}))});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),groupGenericFields:function(e){var t=this;this.dialogs[this.prop].fields&&(this.item={textboxes:[],dropdowns:[],checkboxes:[]},this.dialogs[this.prop].fields.forEach(function(a){var s=Z.a.capitalizeFirst(a),i="Type ".concat(a,"...");"code"==t.prop&&"name"==a&&(s="Code",i="Type code...");var n={key:a,value:e&&e[a]||"",label:s,placeholder:i};if(t.dialogs[t.prop].dropdowns&&t.dialogs[t.prop].dropdowns.some(function(e){return e.field==a})){var r=t.dialogs[t.prop].dropdowns.find(function(e){return e.field==a});n.items=r.items,n.isMulti=r.isMulti,n.isRequired=r.isRequired,t.item.dropdowns.push(n)}else t.dialogs[t.prop].checkboxes&&t.dialogs[t.prop].checkboxes.some(function(e){return e==a})?t.item.checkboxes.push(n):t.item.textboxes.push(n)}))},buildValidationParams:function(){var e=this;this.dialogs[this.prop].distincts&&this.dialogs[this.prop].distincts.forEach(function(t){var a=[];e.data.forEach(function(e){a.push(e[t])}),e.params.validation=[],e.params.validation.push({key:t,values:a})})},processConfirmation:function(e){var t=this;if("submit"==e&&"deleteAll"==this.dialogs.confirm.command)if("user"==this.prop){var a=this.data.find(function(e){return e.username==t.userId});this.data=[],this.data.push(a),toastr.info("The user that is actively logged in can not be deleted!","",{closeButton:!0,positionClass:"toast-bottom-right"})}else this.data=[];this.dialogs.confirm.show=!1},closeDialog:function(e){if("save"==this.params.dialog){if(this.dialogs.save.show=!1,"submit"==e.action)this.save(),this.redirect.hasConfirmed=!0,this.$router.push({path:this.redirect.path});else if("ignore"==e.action)this.redirect.hasConfirmed=!0,this.$router.push({path:this.redirect.path});else if("cancel"==e.action)return void(this.params.dialog="other")}else if(this.dialogs[this.prop].show=!1,"submit"==e.action){var t={},a=this.data.map(function(e){return e._id});if(t._id="".concat(this.prop.slice(0,3),"#").concat(w.a.getNextId(a)),"user"==this.prop||"license"==this.prop){var s=Object.keys(e.data);s.forEach(function(a){t[a]=e.data[a]})}else{var i=["textboxes","dropdowns","checkboxes"];i.forEach(function(a){e.data[a]&&e.data[a].length&&e.data[a].forEach(function(e){t[e.key]=e.value})})}t.modBy=this.userId,t.modDate=moment(),t.isShow=!0,this.params.isNew?(this.data.push(t),1==this.data.length&&this.initTable()):this.data.splice(this.params.index,1,t)}},remove:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("license"!=this.prop){e.next=9;break}return e.next=3,f.isLicenseUsed({license:t.license});case 3:if(a=e.sent,!a.isLicenseUsed){e.next=7;break}return toastr.error("This license is actively used by a user and can not be deleted!","",{closeButton:!0,positionClass:"toast-bottom-right"}),e.abrupt("return");case 7:e.next=12;break;case 9:if("user"!=this.prop||t.username!=this.userId){e.next=12;break}return toastr.error("This user is actively logged in and can not be deleted!","",{closeButton:!0,positionClass:"toast-bottom-right"}),e.abrupt("return");case 12:this.deleteIndex=this.data.findIndex(function(e){return e==t}),this.data.splice(this.deleteIndex,1);case 14:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),exportSpreadsheet:function(){var e=[],t=w.a.deepClone(this.data);t.forEach(function(e){return delete e.isShow});var a=Object.keys(t[0]);e.push(a),t.forEach(function(t){var s=[];a.forEach(function(e){var a="";a=Array.isArray(t[e])?t[e].map(function(e){return"(".concat(Z.a.getKeyValueFriendly(e.key,e.name),")")}).join("+"):"boolean"==typeof t[e]?t[e]?"yes":"no":"modDate"==e?Z.a.getFriendlyDate(t[e]):t[e],a=a.replace(/#/g,"").toString(),a=a.replace(/,/g," ").toString(),s.push(a)}),e.push(s)});var s="data:text/csv;charset=utf-8,"+e.map(function(e){return e.join(",")}).join("\n"),i=encodeURI(s),n=document.createElement("a");n.setAttribute("href",i),n.setAttribute("download","".concat(this.prop,"s.csv")),document.body.appendChild(n),n.click()},save:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=w.a.deepClone(this.data),t.forEach(function(e){delete e["isShow"]}),a="".concat(this.prop,"s"),"specialty"==this.prop&&(a="specialties"),e.next=6,f.setCollection({collection:a,data:t});case 6:this.original=w.a.deepClone(t),toastr.success("".concat(this.title," saved successfully!"),"",{closeButton:!0,positionClass:"toast-bottom-right"});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),deleteAll:function(){this.dialogs.confirm.command="deleteAll",this.dialogs.confirm.question="Are you sure you want to delete all items?",this.dialogs.confirm.show=!0},sortHeader:function(e){var t=this;this.headers.forEach(function(t){t!=e&&(t.sort=0)}),-1==e.sort?e.sort=0:0==e.sort?(e.sort=1,this.data.sort(function(a,s){var i=t.getCompareObject(a,s,e.key);return"number"==e.type||i.type&&"number"==i.type?i.first-i.second:"boolean"==e.type?i.first.toString().localeCompare(i.second.toString()):i.first.localeCompare(i.second)})):1==e.sort&&(e.sort=-1,this.data.sort(function(a,s){var i=t.getCompareObject(a,s,e.key);return"number"==e.type||i.type&&"number"==i.type?i.second-i.first:"boolean"==e.type?i.second.toString().localeCompare(i.first.toString()):i.second.localeCompare(i.first)}))},getCompareObject:function(e,t,a){var s={first:"",second:""};return"rooms"==a||"preps"==a?(s.first=e[a].length,s.second=t[a].length,s.type="number"):(s.first=e[a],s.second=t[a]),s},saveOrder:function(e){this.data.splice(e.newIndex,0,this.data.splice(e.oldIndex,1)[0])},filterTerm:function(){var e=this;this.isShows=!0,this.data.forEach(function(t){t.isShow=!1;var a=Object.keys(t);if("all"==e.filterCol){for(var s=0;s<a.length;s++)if(!e.omitFields.includes(a[s])&&"string"==typeof t[a[s]]&&t[a[s]].toLowerCase().includes(e.searchTerm.toLowerCase())){t.isShow=!0;break}}else!e.omitFields.includes(e.filterCol)&&"string"==typeof t[e.filterCol]&&t[e.filterCol].toLowerCase().includes(e.searchTerm.toLowerCase())&&(t.isShow=!0)}),this.data.filter(function(e){return e.isShow}).length||(this.isShows=!1),this.data.push({}),this.data.pop()},getFriendlyDateTime:function(e){return Z.a.getFriendlyDateTime(e)}},directives:{sortableDataTable:{bind:function(e,t,a){var s={animation:150,onUpdate:function(e){a.child.$emit("sorted",e)}};"track"==a.context.prop&&Ie["a"].create(e.getElementsByTagName("tbody")[0],s)}}},watch:{},data:function(e){return{redirect:{path:"",hasConfirmed:!1},isShows:!0,userId:"",prop:"",title:"",preps:[],anesthesias:[],original:[],data:[],item:{},params:{},omitFields:["isShow","modDate","_id"],filterCol:"",filterCols:[],headers:[],searchTerm:"",deleteIndex:0,dialogs:{hospital:{show:!1,dialog:"generic",fields:["name"],distincts:["name"]},center:{show:!1,dialog:"generic",fields:["name","rooms"],dropdowns:[{field:"rooms",isMulti:!0,isRequired:!1,items:[]}],distincts:["name"]},track:{show:!1,dialog:"generic",fields:["name"],distincts:["name"]},procedure:{show:!1,dialog:"generic",fields:["name","description","preps"],dropdowns:[{field:"preps",isMulti:!0,isRequired:!1,items:[]}],distincts:["name"]},diagnose:{show:!1,dialog:"generic",fields:["name","description"],distincts:["name"]},patient:{show:!1,dialog:"generic",fields:["id","first","last","bmi","anesthesia"],dropdowns:[{field:"anesthesia",isMulti:!1,isRequired:!1,items:[]}],distincts:["id"]},physician:{show:!1,dialog:"generic",fields:["id","first","last","specialty"],dropdowns:[{field:"specialty",isMulti:!1,isRequired:!1,items:[]}],distincts:["id"]},room:{show:!1,dialog:"generic",fields:["name"],distincts:["name"]},specialty:{show:!1,dialog:"generic",fields:["name"],distincts:["name"]},anesthesia:{show:!1,dialog:"generic",fields:["name","description"],distincts:["name"]},code:{show:!1,dialog:"generic",fields:["name","description","type"],dropdowns:[{field:"type",isMulti:!1,isRequired:!0,items:["procedure","diagnose"]}],distincts:["name"]},prep:{show:!1,dialog:"generic",fields:["name","type"],dropdowns:[{field:"type",isMulti:!1,isRequired:!0,items:["patient","procedure"]}],distincts:["name"]},insurance:{show:!1,dialog:"generic",fields:["name","description"],distincts:["name"]},user:{show:!1,dialog:"user",distincts:["username"]},license:{show:!1,dialog:"license"},confirm:{show:!1,command:"",question:""},save:{show:!1}}}}},Ee=De,je=Object(z["a"])(Ee,N,B,!1,null,null,null),$e=je.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("banner",{staticClass:"no-print"}),a("v-card-title",{staticClass:"dizagara-sub-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"headerIcon"}}),a("span",[e._v("Dashboard")])]),e.license.percentage<100?a("v-row",[a("v-col",[a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"10px 0px -20px 20px",height:"calc(100vh - 350px)"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"schedulingIcon"}}),e._v("\n\t\t\tScheduling\n\t\t")]),a("v-card-text",[e.ready.charts?a("chart",{staticStyle:{height:"calc(40vh)",width:"calc(40vh)","text-align":"center",margin:"calc(5vh) auto auto auto"},attrs:{data:e.chartData.scheduling||{}}}):e._e()],1)],1)],1),a("v-col",[a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"10px 20px -20px 0px",height:"calc(100vh - 350px)"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"trackingIcon"}}),e._v("\n\t\t  \tTracking\n\t\t")]),a("v-card-text",[e.ready.charts?a("chart",{staticStyle:{height:"calc(40vh)",width:"calc(40vh)","text-align":"center",margin:"calc(5vh) auto auto auto"},attrs:{data:e.chartData.tracking||{}}}):e._e()],1)],1)],1)],1):e._e(),a("v-row",[a("v-col",[a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"0px 20px 0px 20px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"licenseIcon"}}),e._v("\n\t\t\tLicense\n\t\t")]),a("v-card-text",[a("v-progress-linear",{attrs:{striped:"",color:e.license.percentage>=100?"red":"blue",value:e.license.percentage,height:"25",readonly:""}},[a("strong",[e._v("\n\t\t\t\t\t"+e._s(Math.ceil(e.license.percentage))+"% Complete - "+e._s(e.license.remaining)+" Days Remaining\n\t\t\t\t")])])],1)],1)],1)],1)],1)},Oe=[],Pe=a("1fca"),Fe={extends:Pe["a"],props:["data"],mounted:function(){this.renderChart(this.data,{})}},Re={name:"dashboard",components:{banner:Se,chart:Fe},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,s,i,n,r,o,c,l,d,u=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.userId=this.$route.params.id,e.next=3,f.getCollection({collection:"schedules"});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return this.schedules=e.t0,e.next=9,f.getConfig({config:"application"});case 9:if(e.t1=e.sent,e.t1){e.next=12;break}e.t1={};case 12:return this.application=e.t1,t=["drafted","submitted","approved"],a={scheduling:[],tracking:[]},s={scheduling:[],tracking:[]},i={scheduling:[],tracking:[]},n={scheduling:[],tracking:[]},r=100,o=250,t.forEach(function(e,c){var l=u.schedules.filter(function(t){return t.stage==e}).length;a.scheduling.push(Z.a.capitalizeFirst(e)),s.scheduling.push(l);var d=(o-r)/t.length;i.scheduling.push(Z.a.getColor(0,o-c*d,255,1)),n.scheduling.push(Z.a.getColor(0,o-c*d,255,.75))}),e.next=23,f.getCollection({collection:"tracks"});case 23:if(e.t2=e.sent,e.t2){e.next=26;break}e.t2=[];case 26:return c=e.t2,c=c.length?c.map(function(e){return e.name}):["none"],l=100,c.length>0&&(l=100/(c.length-1)),c.forEach(function(e,t){var d=u.schedules.filter(function(e){return Math.round(e.track)==Math.round(t*l)}).length;a.tracking.push(Z.a.capitalizeFirst(e)),s.tracking.push(d);var p=(o-r)/c.length;i.tracking.push(Z.a.getColor(0,o-t*p,255,1)),n.tracking.push(Z.a.getColor(0,o-t*p,255,.75))}),this.chartData={scheduling:{labels:a.scheduling,datasets:[{label:"scheduling",data:s.scheduling,backgroundColor:i.scheduling,hoverBackgroundColor:n.scheduling,borderWidth:1,borderColor:Z.a.getColor(0,80,180,1)}]},tracking:{labels:a.tracking,datasets:[{label:"tracking",data:s.tracking,backgroundColor:i.tracking,hoverBackgroundColor:n.tracking,borderWidth:1,borderColor:Z.a.getColor(0,80,180,1)}]}},e.next=34,f.getLicenseByUser({username:this.userId});case 34:d=e.sent,this.license.total=30*d.duration,this.license.remaining=Math.round(moment(d.expiration).diff(moment(),"days",!0)),this.license.expired=this.license.total-this.license.remaining,this.license.percentage=Math.round(this.license.expired/this.license.total*100),this.license.percentage<0?this.license.percentage=0:this.license.percentage>100&&(this.license.percentage=100,toastr.info("This license# expired, contact ".concat(this.application.email," for a new one!"),"",{closeButton:!0,positionClass:"toast-bottom-right"})),this.license.remaining<0&&(this.license.remaining=0),setTimeout(function(){$("#schedulingIcon").addClass(y.a.getIcon("schedule")),$("#trackingIcon").addClass(y.a.getIcon("track")),$("#licenseIcon").addClass(y.a.getIcon("license")),$("#headerIcon").addClass(y.a.getIcon("dashboard"))},0),this.ready.charts=!0;case 43:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),data:function(e){return{userId:"",application:{},ready:{charts:!1},license:{total:0,remaining:0,expired:0,percentage:0},chartData:null}}},Ae=Re,qe=Object(z["a"])(Ae,Te,Oe,!1,null,null,null),Ne=qe.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("transition",{attrs:{name:"fade"}},[e.dialogs.save.show?a("save",{on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.schedule.show?a("schedule",{attrs:{data:e.schedule,params:e.params},on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.zone.show?a("zone",{attrs:{data:e.zone,params:e.params},on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.event.show?a("event",{on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("banner",{staticClass:"no-print"}),a("v-card-title",{staticStyle:{color:"white","background-color":"#192c45 !important"},attrs:{"primary-title":""}},[a("v-icon",{attrs:{dark:"",left:""}},[e._v("event")]),a("small",[e._v("Scheduling")]),a("v-btn",{staticClass:"dizagara-button-blue dizagara-width-medium",staticStyle:{position:"absolute",right:"130px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.exportSpreadsheet()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"exportIcon"}}),e._v("\r\n        EXPORT\r\n      ")]),a("v-btn",{staticClass:"dizagara-button-green dizagara-width-medium",staticStyle:{position:"absolute",right:"15px",width:"100px !important"},attrs:{dense:"",dark:""},on:{click:function(t){return e.saveEvents()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"saveIcon"}}),e._v("\r\n        SAVE\r\n      ")])],1),a("v-row",{staticStyle:{"margin-bottom":"-50px","margin-left":"5px"}},[a("v-col",{staticClass:"col-md-2"},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.props.centers,"item-text":function(e){return e.name},"item-value":function(e){return e},label:"Filter Center"},on:{change:function(t){return e.loadEvents(!0)}},model:{value:e.filter.center,callback:function(t){e.$set(e.filter,"center",t)},expression:"filter.center"}})],1),e.filter.center&&e.filter.center.rooms?a("span",[a("v-col",{staticClass:"col-md-9",staticStyle:{width:"calc(80vw)"}},[a("div",{attrs:{id:"filterRooms"}},[a("v-autocomplete",{attrs:{outlined:"",dense:"",chips:"","small-chips":"",multiple:"",items:e.filter.center.rooms,"item-text":function(e){return e.name},"item-value":function(e){return e},label:"Filter Room(s)"},on:{change:function(t){return e.loadEvents()}},scopedSlots:e._u([{key:"selection",fn:function(t){var s=t.item,i=t.index;return[a("v-chip",{attrs:{dark:"",close:"",color:e.getColor(s.key)},on:{"click:close":function(t){return e.removeFilter(i)}}},[a("strong",{staticStyle:{color:"white"}},[e._v(e._s(s.name))])])]}}],null,!1,3806353864),model:{value:e.filter.rooms,callback:function(t){e.$set(e.filter,"rooms",t)},expression:"filter.rooms"}})],1)]),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-width-medium",attrs:{dense:"",dark:"",icon:"",title:"Hide/show all room filters..."},on:{click:function(t){return e.toggleFilters()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right mdi-eye",attrs:{id:"viewIcon"}})])],1)],1):e._e()],1),a("v-row",{staticClass:"fill-height"},[a("v-col",[a("v-sheet",{attrs:{height:"64"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:function(t){return e.setToday()}}},[e._v("\r\n              Today\r\n            ")]),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:function(t){return e.prev()}}},[a("v-icon",{attrs:{small:""}},[e._v("\r\n                mdi-chevron-left\r\n              ")])],1),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:function(t){return e.next()}}},[a("v-icon",{attrs:{small:""}},[e._v("\r\n                mdi-chevron-right\r\n              ")])],1),e.$refs.calendar?a("v-toolbar-title",[e._v("\r\n              "+e._s(e.$refs.calendar.title)+"\r\n            ")]):e._e(),a("v-spacer"),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",i,!1),s),[a("span",[e._v(e._s(e.typeLabels[e.type]))]),a("v-icon",{attrs:{right:""}},[e._v("\r\n                    mdi-menu-down\r\n                  ")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(t){e.type="day"}}},[a("v-list-item-title",[e._v("Day")])],1),a("v-list-item",{on:{click:function(t){e.type="week"}}},[a("v-list-item-title",[e._v("Week")])],1),a("v-list-item",{on:{click:function(t){e.type="month"}}},[a("v-list-item-title",[e._v("Month")])],1)],1)],1)],1)],1),a("v-sheet",{staticStyle:{height:"calc(100vh - 350px)"}},[a("v-calendar",{ref:"calendar",attrs:{color:"primary",events:e.events,"event-color":e.getEventColor,type:e.type},on:{"click:more":e.viewDay,"click:date":e.viewDay,"click:event":e.editEvent,change:e.updateRange,"mousedown:event":e.startDrag,"mousedown:time":e.startTime,"mousemove:time":e.mouseMove,"mouseup:time":e.endDrag},nativeOn:{mouseleave:function(t){return e.cancelDrag(t)}},scopedSlots:e._u([{key:"event",fn:function(t){var s=t.event,i=t.timed,n=t.eventSummary;return[a("div",{staticClass:"v-event-draggable",domProps:{innerHTML:e._s(n())}}),i?a("div",{staticClass:"v-event-drag-bottom",on:{mousedown:function(t){return t.stopPropagation(),e.extendBottom(s)}}}):e._e()]}},{key:"day-body",fn:function(t){var s=t.date,i=t.week;return[a("div",{staticClass:"v-current-time",class:{first:s===i[0].date},style:{top:e.nowY}})]}}]),model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[a("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-pencil")])],1),a("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-heart")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-dots-vertical")])],1)],1),a("v-card-text",[a("span",{domProps:{innerHTML:e._s(e.selectedEvent.details)}})]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v("\r\n                CANCEL\r\n              ")])],1)],1)],1)],1)],1)],1)],1)},Le=[],Me=(a("14b9"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[e.loaded.percent<100?a("div",{staticClass:"center-block",staticStyle:{width:"calc(50vw)","margin-top":"calc(40vh)"}},[a("v-card",{staticClass:"dizagara-outline-blue"},[a("v-card-title",{staticClass:"primary",staticStyle:{color:"white"}},[a("span",{staticClass:"mdi mdi-24px",attrs:{id:"headerIcon"}}),e._v("\r\n                Loading...\r\n            ")]),a("v-card-text",[a("v-progress-linear",{staticStyle:{"margin-top":"15px"},attrs:{striped:"",value:e.loaded.percent,height:"25",readonly:""}},[a("strong",[e._v(e._s(e.loaded.percent)+"% - "+e._s(e.loaded.checkpoint))])])],1)],1)],1):e._e(),e.loaded.percent>=100?a("div",{staticClass:"center-block",staticStyle:{width:"calc(90vw)","margin-top":"75px"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"primary",staticStyle:{color:"white"}},[a("span",{staticClass:"mdi mdi-24px",attrs:{id:"headerIcon"}}),e._v("\r\n        Edit Surgery Procedure  \r\n    "),a("v-btn",{staticClass:"dizagara-button-green",staticStyle:{position:"absolute",right:"20px"},attrs:{dense:""},on:{click:function(t){return e.reloadDropdowns()}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"refreshIcon"}}),e._v("\r\n\t\t\tRELOAD DROPDOWNS\r\n\t\t")])],1),a("v-form",{ref:"form",staticClass:"dizagara-background-01",staticStyle:{height:"calc(100vh - 300px) !important","overflow-y":"scroll","overflow-x":"hidden"},attrs:{"lazy-validation":""}},[a("v-row",[a("v-col",[a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"10px 0px 20px 20px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"centerIcon"}}),e._v("\r\n\t\t\tLocation\r\n\t\t")]),a("v-card-text",{staticStyle:{padding:"10px 20px 0px 20px","margin-bottom":"-5px"}},[a("v-row",[a("v-col",{staticStyle:{"padding-bottom":"0px"}},[a("v-text-field",{attrs:{dense:"",outlined:"",autocomplete:"off","background-color":"blue-grey lighten-5",label:"Center",type:"text",readonly:""},model:{value:e.schedule.location.center.name,callback:function(t){e.$set(e.schedule.location.center,"name",t)},expression:"schedule.location.center.name"}})],1),a("v-col",{staticStyle:{"padding-bottom":"0px"}},[a("v-text-field",{attrs:{dense:"",outlined:"",autocomplete:"off","background-color":"blue-grey lighten-5",label:"Room",type:"text",readonly:""},model:{value:e.schedule.location.room.name,callback:function(t){e.$set(e.schedule.location.room,"name",t)},expression:"schedule.location.room.name"}})],1)],1)],1)],1),a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"0px 0px 20px 20px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"archiveIcon"}}),e._v("\r\n\t\t\tLoad Historical\r\n\t\t")]),a("v-card-text",{staticStyle:{padding:"10px 20px 0px 20px","margin-bottom":"-5px"}},[a("v-row",[a("v-col",{staticClass:"col-md-11",staticStyle:{"padding-bottom":"0px"}},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.schedules,"item-text":function(t){return e.getHistoricalTitle(t)},"item-value":function(e){return e},title:"Pick historical event by patient name and date...",label:"Historical Events"},model:{value:e.historicalEvent,callback:function(t){e.historicalEvent=t},expression:"historicalEvent"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-green",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:"",title:"Load historical event..."},on:{click:function(t){return e.loadHistorical()}}},[a("span",{staticClass:"mdi mdi-24px",attrs:{id:"loadIcon"}})])],1)],1)],1)],1),a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"0px 0px 20px 20px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"communicationIcon"}}),e._v("\r\n\t\t\tCommunication\r\n\t\t")]),a("v-card-text",{staticStyle:{margin:"10px 20px -20px 20px"}},[a("v-row",[a("v-autocomplete",{attrs:{dense:"",outlined:"",id:"firstFocus","background-color":"yellow lighten-4",items:e.lists.languages,label:"Language",rules:[e.validate.required]},model:{value:e.schedule.communication.language,callback:function(t){e.$set(e.schedule.communication,"language",t)},expression:"schedule.communication.language"}}),a("v-checkbox",{staticStyle:{margin:"0px 50px 0px 20px"},attrs:{"hide-details":"",label:"Interpreter Required"},model:{value:e.schedule.communication.isInterpreter,callback:function(t){e.$set(e.schedule.communication,"isInterpreter",t)},expression:"schedule.communication.isInterpreter"}})],1),a("v-row",{staticStyle:{"margin-right":"25px"}},[e.schedule.communication.isInterpreter?a("v-text-field",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",label:"Interpreter Reason",placeholder:"Explain..."},model:{value:e.schedule.communication.reason,callback:function(t){e.$set(e.schedule.communication,"reason",t)},expression:"schedule.communication.reason"}}):e._e()],1)],1)],1),a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"0px 0px 20px 20px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"patientIcon"}}),e._v("\r\n            Patient\r\n        ")]),a("v-card-text",{staticStyle:{padding:"10px 20px 0px 20px"}},[a("v-row",[a("v-col",{staticClass:"col-md-11",staticStyle:{"padding-bottom":"0px"}},[a("v-autocomplete",{attrs:{dense:"",outlined:"",label:"Patient","background-color":"yellow lighten-4",items:e.lists.patients,"item-text":function(e){return e.first+", "+e.last},"item-value":function(e){return e},rules:[e.validate.required]},model:{value:e.schedule.patient,callback:function(t){e.$set(e.schedule,"patient",t)},expression:"schedule.patient"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:""},on:{click:function(t){return e.redirect("patient")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-redirect-icon"})])],1)],1),a("v-row",{staticStyle:{"margin-top":"-10px"}},[a("v-col",{staticClass:"col-md-6",staticStyle:{"padding-bottom":"0px"}},[a("v-text-field",{attrs:{dense:"",outlined:"","background-color":"blue-grey lighten-5",placeholder:"Displays BMI...",readonly:"",label:"BMI"},model:{value:e.schedule.patient.bmi,callback:function(t){e.$set(e.schedule.patient,"bmi",t)},expression:"schedule.patient.bmi"}})],1),a("v-col",{staticClass:"col-md-6"},[a("v-text-field",{attrs:{dense:"",outlined:"","background-color":"blue-grey lighten-5",label:"Anesthesia",placeholder:"Displays Anesthesia...",readonly:""},model:{value:e.schedule.patient.anesthesia.name,callback:function(t){e.$set(e.schedule.patient.anesthesia,"name",t)},expression:"schedule.patient.anesthesia.name"}})],1)],1),a("div",{staticClass:"dizagara-section",staticStyle:{"margin-top":"-20px","margin-bottom":"20px","box-shadow":"none"}},[a("label",{staticClass:"text-primary",staticStyle:{"margin-left":"10px","margin-top":"2px"}},[e._v("Prep Checklist")]),a("v-row",e._l(e.lists.preps.patients,function(t){return a("span",{key:t._id,staticStyle:{"margin-top":"-20px"}},[a("v-checkbox",{staticStyle:{"margin-left":"20px"},attrs:{"hide-details":"",multiple:"",value:t,label:t.name},model:{value:e.schedule.patient.preps,callback:function(t){e.$set(e.schedule.patient,"preps",t)},expression:"schedule.patient.preps"}})],1)}),0)],1)],1)],1)],1),a("v-col",[a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"10px 0px 0px 0px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"diagnoseIcon"}}),e._v("\r\n            Diagnoses\r\n        ")]),a("v-card-text",{staticStyle:{padding:"10px 20px 0px 20px","margin-bottom":"-15px"}},[a("v-row",[a("v-col",{staticClass:"col-md-11"},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.diagnoses,"item-text":function(e){return e.name},"item-value":function(e){return e},label:"Diagnose",rules:[e.validate.required]},model:{value:e.schedule.diagnose.diagnose,callback:function(t){e.$set(e.schedule.diagnose,"diagnose",t)},expression:"schedule.diagnose.diagnose"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:""},on:{click:function(t){return e.redirect("diagnose")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-redirect-icon"})])],1)],1),a("v-row",{staticStyle:{"margin-top":"-20px"}},[a("v-col",{staticClass:"col-md-11"},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.codes.diagnoses,"item-text":function(e){return e.name},"item-value":function(e){return e},label:"Diagnose Code",rules:[e.validate.required]},model:{value:e.schedule.diagnose.code,callback:function(t){e.$set(e.schedule.diagnose,"code",t)},expression:"schedule.diagnose.code"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:""},on:{click:function(t){return e.redirect("code")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-redirect-icon"})])],1)],1)],1)],1),a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"20px 0px 0px 0px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"procedureIcon"}}),e._v("\r\n            Procedure\r\n        ")]),a("v-card-text",{staticStyle:{padding:"10px 20px 0px 20px"}},[a("v-row",{staticStyle:{"margin-top":"0px"}},[a("v-col",{staticClass:"col-md-11"},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.physicians,"item-text":function(e){return e.first+", "+e.last},"item-value":function(e){return e},label:"Physician",rules:[e.validate.required]},model:{value:e.schedule.procedure.physician,callback:function(t){e.$set(e.schedule.procedure,"physician",t)},expression:"schedule.procedure.physician"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:""},on:{click:function(t){return e.redirect("physician")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-redirect-icon"})])],1)],1),a("v-row",{staticStyle:{"margin-top":"-20px"}},[a("v-col",{staticClass:"col-md-11"},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.codes.procedures,"item-text":function(e){return e.name},"item-value":function(e){return e},label:"Procedure Code",rules:[e.validate.required]},model:{value:e.schedule.procedure.code,callback:function(t){e.$set(e.schedule.procedure,"code",t)},expression:"schedule.procedure.code"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:""},on:{click:function(t){return e.redirect("code")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-redirect-icon"})])],1)],1),a("v-row",{staticStyle:{"margin-top":"-20px"}},[a("v-col",{staticClass:"col-md-11"},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.procedures,"item-text":function(e){return e.name},"item-value":function(e){return e},label:"Procedure",rules:[e.validate.required]},model:{value:e.schedule.procedure.procedure,callback:function(t){e.$set(e.schedule.procedure,"procedure",t)},expression:"schedule.procedure.procedure"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:""},on:{click:function(t){return e.redirect("procedure")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-redirect-icon"})])],1)],1),a("div",{staticClass:"dizagara-section",staticStyle:{"margin-top":"-20px","margin-bottom":"20px","box-shadow":"none"}},[a("label",{staticClass:"text-primary",staticStyle:{"margin-left":"10px","margin-top":"2px"}},[e._v("Prep Checklist")]),a("v-row",e._l(e.schedule.procedure.procedure.preps,function(t){return a("span",{key:t.key,staticStyle:{"margin-top":"-20px"}},[a("v-checkbox",{staticStyle:{"margin-left":"20px"},attrs:{"hide-details":"",multiple:"",value:t,label:t.name},model:{value:e.schedule.procedure.preps,callback:function(t){e.$set(e.schedule.procedure,"preps",t)},expression:"schedule.procedure.preps"}})],1)}),0)],1)],1)],1),a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"20px 0px 0px 0px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"insuranceIcon"}}),e._v("\r\n                Insurance\r\n            ")]),a("v-card-text",{staticStyle:{padding:"10px 20px 0px 20px","margin-bottom":"-15px"}},[a("v-row",{staticStyle:{"margin-bottom":"-10px"}},[a("v-col",{staticClass:"col-md-11",staticStyle:{"padding-bottom":"0px"}},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.insurances,"item-text":function(e){return e.name},"item-value":function(e){return e},label:"Primary Insurance",rules:[e.validate.required]},model:{value:e.schedule.insurance.primary,callback:function(t){e.$set(e.schedule.insurance,"primary",t)},expression:"schedule.insurance.primary"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:""},on:{click:function(t){return e.redirect("insurance")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-redirect-icon"})])],1)],1),a("v-row",[a("v-col",{staticClass:"col-md-11"},[a("v-autocomplete",{attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.lists.insurances,"item-text":function(e){return e.name},"item-value":function(e){return e},label:"Secondary Insurance",rules:[e.validate.required]},model:{value:e.schedule.insurance.secondary,callback:function(t){e.$set(e.schedule.insurance,"secondary",t)},expression:"schedule.insurance.secondary"}})],1),a("v-col",{staticClass:"col-md-1"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-left":"-10px"},attrs:{dense:"",icon:""},on:{click:function(t){return e.redirect("insurance")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-redirect-icon"})])],1)],1)],1)],1)],1),a("v-col",[a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"10px 20px 0px 0px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"timeIcon"}}),e._v("\r\n        Date Time\r\n    ")]),a("v-card-text",{staticStyle:{padding:"20px 20px 0px 20px","margin-bottom":"-5px"}},[a("v-dialog",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{"font-weight":"bold",margin:"0px 0px 0px 0px"},attrs:{dense:"",label:"Date","append-icon":"event",outlined:"",readonly:"","background-color":"yellow lighten-4",rules:[e.validate.required]},on:{blur:function(t){e.schedule.schedule.date=e.parseDate(e.datePickers.date.dateFormatted)}},model:{value:e.datePickers.date.dateFormatted,callback:function(t){e.$set(e.datePickers.date,"dateFormatted",t)},expression:"datePickers.date.dateFormatted"}},s))]}}],null,!1,486784058),model:{value:e.datePickers.date.show,callback:function(t){e.$set(e.datePickers.date,"show",t)},expression:"datePickers.date.show"}},[a("v-date-picker",{attrs:{dense:""},on:{input:function(t){e.datePickers.date.show=!1}},model:{value:e.schedule.schedule.date,callback:function(t){e.$set(e.schedule.schedule,"date",t)},expression:"schedule.schedule.date"}})],1),a("div",{staticClass:"dizagara-section",staticStyle:{"margin-top":"-10px","margin-bottom":"20px","box-shadow":"none"}},[a("label",{staticClass:"text-primary",staticStyle:{"margin-left":"10px","margin-top":"2px"}},[e._v("Busy Times For "+e._s(e.datePickers.date.dateFormatted))]),a("v-row",{staticStyle:{"margin-left":"0px"}},e._l(e.lists.busyTimes,function(t){return a("span",{key:t.key},[a("v-chip",{staticStyle:{"margin-left":"5px"},attrs:{color:"error"}},[e._v("\r\n            "+e._s(t.start+" to "+t.end)+"\r\n        ")])],1)}),0)],1),a("v-row",[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.schedule.schedule.start,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.schedule.schedule,"start",t)},"update:return-value":function(t){return e.$set(e.schedule.schedule,"start",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{width:"50px",margin:"0px 10px 0px 10px","font-weight":"bold"},attrs:{outlined:"",dense:"",autocomplete:"off",label:"Start Time","append-icon":"mdi-clock-outline","background-color":"yellow lighten-4",color:"rgba(77, 187, 64, 1.0)",readonly:""},model:{value:e.schedule.schedule.start,callback:function(t){e.$set(e.schedule.schedule,"start",t)},expression:"schedule.schedule.start"}},s))]}}],null,!1,3342391508),model:{value:e.timePickers.start.show,callback:function(t){e.$set(e.timePickers.start,"show",t)},expression:"timePickers.start.show"}},[e.timePickers.start.show?a("v-time-picker",{attrs:{format:"24hr"},on:{"click:minute":function(t){return e.closeTimePicker("start",e.schedule.schedule.start)}},model:{value:e.schedule.schedule.start,callback:function(t){e.$set(e.schedule.schedule,"start",t)},expression:"schedule.schedule.start"}}):e._e()],1),a("v-dialog",{ref:"dialog",attrs:{"return-value":e.schedule.schedule.end,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.schedule.schedule,"end",t)},"update:return-value":function(t){return e.$set(e.schedule.schedule,"end",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{width:"50px",margin:"0px 10px 0px 10px","font-weight":"bold"},attrs:{outlined:"",dense:"",autocomplete:"off",label:"End Time","append-icon":"mdi-clock-outline","background-color":"yellow lighten-4",color:"rgba(77, 187, 64, 1.0)",readonly:""},model:{value:e.schedule.schedule.end,callback:function(t){e.$set(e.schedule.schedule,"end",t)},expression:"schedule.schedule.end"}},s))]}}],null,!1,473330452),model:{value:e.timePickers.end.show,callback:function(t){e.$set(e.timePickers.end,"show",t)},expression:"timePickers.end.show"}},[e.timePickers.end.show?a("v-time-picker",{attrs:{format:"24hr"},on:{"click:minute":function(t){return e.closeTimePicker("end",e.schedule.schedule.end)}},model:{value:e.schedule.schedule.end,callback:function(t){e.$set(e.schedule.schedule,"end",t)},expression:"schedule.schedule.end"}}):e._e()],1)],1),a("v-row",[a("v-col",{staticStyle:{"padding-bottom":"0px","margin-top":"-10px"}},[a("v-text-field",{attrs:{dense:"",outlined:"","background-color":"blue-grey lighten-5",label:"Duration(hrs)",placeholder:"Duration",readonly:""},model:{value:e.schedule.schedule.duration,callback:function(t){e.$set(e.schedule.schedule,"duration",t)},expression:"schedule.schedule.duration"}})],1)],1)],1)],1),a("v-card",{staticClass:"dizagara-panel-body",staticStyle:{margin:"20px 20px 0px 0px"}},[a("v-list-item-title",{staticClass:"dizagara-panel-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right dizagara-margin-left",attrs:{id:"otherIcon"}}),e._v("\r\n            Comments\r\n        ")]),a("v-card-text",{staticStyle:{padding:"20px","margin-bottom":"-30px"}},[a("v-textarea",{attrs:{outlined:"",label:"Hospital Comments","background-color":"yellow lighten-4",placeholder:"Type comments here..."},model:{value:e.schedule.comments.hospital,callback:function(t){e.$set(e.schedule.comments,"hospital",t)},expression:"schedule.comments.hospital"}}),a("v-textarea",{attrs:{outlined:"",label:"Center Comments","background-color":"yellow lighten-4",placeholder:"Type comments here..."},model:{value:e.schedule.comments.center,callback:function(t){e.$set(e.schedule.comments,"center",t)},expression:"schedule.comments.center"}})],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"primary"},[a("v-row",["approved"==this.schedule.stage&&["hospital"].includes(e.user.privilege)?e._e():a("v-radio-group",{staticStyle:{position:"absolute",left:"30px",bottom:"0px",color:"white"},attrs:{row:""},model:{value:e.schedule.stage,callback:function(t){e.$set(e.schedule,"stage",t)},expression:"schedule.stage"}},e._l(e.lists.stages,function(e){return a("span",{key:e.key,staticStyle:{"margin-top":"-20px"}},[a("v-radio",{staticStyle:{color:"white"},attrs:{color:"white",dark:"",label:e,value:e}})],1)}),0),a("v-col",{staticClass:"text-right"},["approved"==this.schedule.stage&&["hospital"].includes(e.user.privilege)?e._e():a("v-btn",{staticClass:"dizagara-button-cyan dizagara-button-width-medium",staticStyle:{"margin-right":"20px"},attrs:{dense:""},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"submitIcon"}}),e._v("\r\n\t\t\t"+e._s(e.params.isNew?"ADD":"EDIT")+"\r\n\t\t")]),"approved"==this.schedule.stage&&["hospital"].includes(e.user.privilege)?e._e():a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-medium",staticStyle:{"margin-right":"20px"},attrs:{dense:""},on:{click:function(t){return e.closeDialog("delete")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"deleteIcon"}}),e._v("\r\n\t\t\tDELETE\r\n\t\t")]),a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-medium",staticStyle:{"margin-right":"20px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"cancelIcon"}}),e._v("\r\n\t\t\tCANCEL\r\n\t\t")])],1)],1)],1)],1)],1):e._e()])}),Ue=[],Ve={name:"schedule",components:{},props:["data","params"],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.getUser({id:this.$route.params.id});case 2:this.user=e.sent,["master","center"].includes(this.user.privilege)?this.lists.stages=["drafted","submitted","approved"]:["hospital"].includes(this.user.privilege)&&(this.lists.stages=["drafted","submitted"]),this.params.isNew?(this.schedule.location.center=this.params.center,this.schedule.location.room=this.params.room):this.schedule=w.a.deepClone(this.data),this.params.isReview||(this.schedule.schedule.date=Z.a.getPickerDate(this.params.event.start),this.schedule.schedule.start=Z.a.getPickerTime(this.params.event.start),this.schedule.schedule.end=Z.a.getPickerTime(this.params.event.end),this.schedule.schedule.duration=w.a.getHoursFromTwo(this.params.event.start,this.params.event.end)),this.datePickers.date.dateFormatted=this.formatDate(this.schedule.schedule.date),this.reloadDropdowns();case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),destroyed:function(){},methods:{getHistoricalTitle:function(e){if(e&&e.patient)return e.patient.first+","+e.patient.last+" ("+this.getFriendlyDate(e.modDate)+")"},getFriendlyDate:function(e){return Z.a.getFriendlyDate(e)},reloadDropdowns:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,s,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loaded={percent:0,checkpoint:"Initializing, loading centers..."},e.next=3,f.getCollection({collection:"centers"});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return this.lists.centers=e.t0,this.loaded={percent:15,checkpoint:"Centers loaded, loading preps..."},e.next=10,f.getCollection({collection:"preps"});case 10:if(e.t1=e.sent,e.t1){e.next=13;break}e.t1=[];case 13:return t=e.t1,this.lists.preps={},this.lists.preps.patients=t.filter(function(e){return"patient"==e.type}).map(function(e){return{key:e._id,name:e.name}}),this.loaded={percent:20,checkpoint:"Preps loaded, loading codes..."},e.next=19,f.getCollection({collection:"codes"});case 19:if(e.t2=e.sent,e.t2){e.next=22;break}e.t2=[];case 22:return a=e.t2,this.lists.codes={},this.lists.codes.diagnoses=a.filter(function(e){return"diagnose"==e.type}),this.lists.codes.procedures=a.filter(function(e){return"procedure"==e.type}),this.loaded={percent:25,checkpoint:"Codes loaded, loading insurances..."},e.next=29,f.getCollection({collection:"insurances"});case 29:if(e.t3=e.sent,e.t3){e.next=32;break}e.t3=[];case 32:return this.lists.insurances=e.t3,this.loaded={percent:30,checkpoint:"Insurances loaded, loading diagnoses..."},e.next=36,f.getCollection({collection:"diagnoses"});case 36:if(e.t4=e.sent,e.t4){e.next=39;break}e.t4=[];case 39:return this.lists.diagnoses=e.t4,this.loaded={percent:35,checkpoint:"Diagnoses loaded, loading physicians..."},e.next=43,f.getCollection({collection:"physicians"});case 43:if(e.t5=e.sent,e.t5){e.next=46;break}e.t5=[];case 46:return this.lists.physicians=e.t5,this.loaded={percent:40,checkpoint:"Physicians loaded, loading procedures..."},e.next=50,f.getCollection({collection:"procedures"});case 50:if(e.t6=e.sent,e.t6){e.next=53;break}e.t6=[];case 53:return this.lists.procedures=e.t6,this.loaded={percent:50,checkpoint:"Procedures loaded, loading rooms..."},e.next=57,f.getCollection({collection:"rooms"});case 57:if(e.t7=e.sent,e.t7){e.next=60;break}e.t7=[];case 60:return this.lists.rooms=e.t7,this.loaded={percent:60,checkpoint:"Rooms loaded, loading patients..."},e.next=64,f.getCollection({collection:"patients"});case 64:if(e.t8=e.sent,e.t8){e.next=67;break}e.t8=[];case 67:if(this.lists.patients=e.t8,this.loaded={percent:70,checkpoint:"Patients loaded, loading historical events..."},s=[],!this.params.schedules){e.next=74;break}s=w.a.deepClone(this.params.schedules),e.next=80;break;case 74:return e.next=76,f.getCollection({collection:"schedules"});case 76:if(e.t9=e.sent,e.t9){e.next=79;break}e.t9=[];case 79:s=e.t9;case 80:if(this.lists.schedules=s.filter(function(e){return e.location.center._id==n.schedule.location.center._id&&e.location.room.key==n.schedule.location.room.key}),i=[],!this.params.zones){e.next=86;break}i=w.a.deepClone(this.params.zones),e.next=92;break;case 86:return e.next=88,f.getCollection({collection:"zones"});case 88:if(e.t10=e.sent,e.t10){e.next=91;break}e.t10=[];case 91:i=e.t10;case 92:this.lists.zones=i.filter(function(e){return e.location.center._id==n.schedule.location.center._id&&e.location.room.key==n.schedule.location.room.key}),this.loaded={percent:80,checkpoint:"Historical events loaded, loading icons..."},this.updateBusyTimes(),setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("schedule")),$("#archiveIcon").addClass(y.a.getIcon("archive")),$("#centerIcon").addClass(y.a.getIcon("center")),$("#communicationIcon").addClass(y.a.getIcon("communication")),$("#patientIcon").addClass(y.a.getIcon("patient")),$("#diagnoseIcon").addClass(y.a.getIcon("diagnose")),$("#procedureIcon").addClass(y.a.getIcon("procedure")),$("#scheduleIcon").addClass(y.a.getIcon("schedule")),$("#insuranceIcon").addClass(y.a.getIcon("insurance")),$("#otherIcon").addClass(y.a.getIcon("other")),$("#timeIcon").addClass(y.a.getIcon("time")),$("#loadIcon").addClass(y.a.getIcon("download")),$("#refreshIcon").addClass(y.a.getIcon("refresh")),$("#cancelIcon").addClass(y.a.getIcon("cancel")),$("#submitIcon").addClass(y.a.getIcon("submit")),$("#deleteIcon").addClass(y.a.getIcon("delete")),$(".dizagara-redirect-icon").addClass(y.a.getIcon("redirect"))},0),this.loaded={percent:100,checkpoint:"Load complete..."};case 97:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),redirect:function(e){window.open("/#/properties/".concat(e,"/").concat(this.$route.params.id),"_blank")},checkTimes:function(){var e=!1;return this.schedule.schedule.duration<=0&&(toastr.error("End time must be after start time!","",{closeButton:!0,positionClass:"toast-bottom-right"}),e=!0),e},checkConflicts:function(){var e=this,t=!1;return this.lists.busyTimes.forEach(function(a){var s={start:moment("".concat(e.schedule.schedule.date," ").concat(a.start)),end:moment("".concat(e.schedule.schedule.date," ").concat(a.end))},i={start:moment("".concat(e.schedule.schedule.date," ").concat(e.schedule.schedule.start)),end:moment("".concat(e.schedule.schedule.date," ").concat(e.schedule.schedule.end))},n=Boolean(i.start.isBefore(s.start)&&i.start.isBefore(s.end)&&i.end.isBefore(s.start)&&i.end.isBefore(s.end)),r=Boolean(i.start.isAfter(s.start)&&i.start.isAfter(s.end)&&i.end.isAfter(s.start)&&i.end.isAfter(s.end));n||r||(t=!0)}),t&&toastr.error("This schedule conflicts with another event, change the START or END times by reviewing the busy times listed!","",{closeButton:!0,positionClass:"toast-bottom-right"}),t},closeDialog:function(e){var t=this;if("submit"==e){if(!this.$refs.form.validate())return void toastr.error(y.a.getToast("genericFormError"),"",{closeButton:!0,positionClass:"toast-bottom-right"});if(this.checkTimes())return;if(this.checkConflicts())return;"approved"!=this.schedule.stage&&(this.schedule.track=-1),this.schedule.modBy=this.$route.params.id,this.schedule.modDate=moment(),Object.keys(this.schedule.comments).forEach(function(e){t.schedule.comments[e]=t.schedule.comments[e].trim()})}this.$emit("closeDialog",{action:e,data:this.schedule})},editSchedule:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.schedule.modDate=moment(),this.closeDialog();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadHistorical:function(){if(!this.historicalEvent||this.historicalEvent&&!this.historicalEvent._id)toastr.error("No historical event selected!","",{closeButton:!0,positionClass:"toast-bottom-right"});else{var e=this.schedule._id,t=w.a.deepClone(this.schedule.schedule);this.schedule=w.a.deepClone(this.historicalEvent),this.datePickers.date.dateFormatted=this.formatDate(this.schedule.schedule.date),this.schedule._id=e,this.schedule.schedule=t,toastr.info("Historical event loaded!","",{closeButton:!0,positionClass:"toast-bottom-right"})}},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(V["a"])(t,3),s=a[0],i=a[1],n=a[2];return"".concat(i,"/").concat(n,"/").concat(s)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(V["a"])(t,3),s=a[0],i=a[1],n=a[2];return"".concat(n,"-").concat(s.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},getNow:function(e){var t=new Date;return t.setDate(t.getDate()+e),t.toISOString().substr(0,10)},closeTimePicker:function(e,t){var a=this;this.timePickers[e].show=!1,setTimeout(function(){a.schedule.schedule[e]=t;var s="".concat(a.schedule.schedule.date," ").concat(a.schedule.schedule.start),i="".concat(a.schedule.schedule.date," ").concat(a.schedule.schedule.end);a.schedule.schedule.duration=w.a.getHoursFromTwo(s,i),a.checkConflicts(),a.checkTimes()},0)},updateBusyTimes:function(){var e=this;this.lists.busyTimes=[],this.lists.schedules.forEach(function(t){t.schedule.date==e.schedule.schedule.date&&(e.params.isNew||!e.params.isNew&&e.schedule._id!=t._id)&&e.lists.busyTimes.push({start:"".concat(t.schedule.start),end:"".concat(t.schedule.end)})}),this.lists.zones.forEach(function(t){if("single"==t.schedule.type)t.schedule.date==e.schedule.schedule.date&&e.lists.busyTimes.push({start:"".concat(t.schedule.start),end:"".concat(t.schedule.end)});else if("repeat"==t.schedule.type){var a=moment(e.schedule.schedule.date).day();("forever"==t.schedule.frequency&&t.schedule.repeat[a]||"range"==t.schedule.frequency&&moment(e.schedule.schedule.date).isBetween(moment(t.schedule.rangeStart),moment(t.schedule.rangeEnd))&&t.schedule.repeat[a])&&e.lists.busyTimes.push({start:"".concat(t.schedule.start),end:"".concat(t.schedule.end)})}}),this.lists.busyTimes=this.lists.busyTimes.sort(function(e,t){return e.start.localeCompare(t.start)})}},watch:{datePickers:{deep:!0,handler:function(){this.datePickers.date.dateFormatted=this.formatDate(this.schedule.schedule.date),this.updateBusyTimes()}}},data:function(){return{user:{},loaded:{percent:0,checkpoint:"initializing..."},editorTypes:{patients:"patients",insurances:"insurances",drafts:"drafts",codes:"codes"},datePickers:{date:{show:!1,dateFormatted:""}},timePickers:{start:{show:!1},end:{show:!1}},historicalEvent:{},lists:{stages:["drafted","submitted","approved"],languages:["English","Spanish","Other"],busyTimes:[],schedules:[],zones:[],patients:[],codes:{},insurances:[],preps:{procedures:[],patients:[]}},schedule:{track:-1,stage:"drafted",location:{center:"",room:""},patient:{anesthesia:{}},communication:{language:"",isInterpreter:!1,reason:""},diagnose:{diagnose:"",code:""},procedure:{procedure:"",code:""},schedule:{date:"",start:"00:00",end:"00:00",duration:""},insurance:{primary:"",secondary:""},comments:{hospital:"",center:""}},validate:{required:function(e){return!!e||"Required Field!"}}}}},He=Ve,Ye=Object(z["a"])(He,Me,Ue,!1,null,null,null),Ke=Ye.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"600px","margin-top":"100px"}},[a("v-card",{staticClass:"dizagara-outline-red",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"error",staticStyle:{color:"white"}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"headerIcon"}}),e._v("\r\n        Edit Restriction Zone  \r\n    ")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{staticStyle:{margin:"20px 0px 0px 0px"},attrs:{dense:"",outlined:"",autocomplete:"off","background-color":"blue-grey lighten-5",placeholder:"Type restriction label...",label:"Center",type:"text",readonly:""},model:{value:e.zone.location.center.name,callback:function(t){e.$set(e.zone.location.center,"name",t)},expression:"zone.location.center.name"}}),a("v-text-field",{staticStyle:{margin:"0px 0px 0px 0px"},attrs:{dense:"",outlined:"",autocomplete:"off","background-color":"blue-grey lighten-5",placeholder:"Type restriction label...",label:"Room",type:"text",readonly:""},model:{value:e.zone.location.room.name,callback:function(t){e.$set(e.zone.location.room,"name",t)},expression:"zone.location.room.name"}}),a("v-text-field",{staticStyle:{margin:"0px 0px 0px 0px"},attrs:{dense:"",outlined:"",autocomplete:"off",id:"firstFocus","background-color":"yellow lighten-4",placeholder:"Type restriction label...",label:"Label",type:"text",rules:[e.validate.required]},model:{value:e.zone.label,callback:function(t){e.$set(e.zone,"label",t)},expression:"zone.label"}}),a("v-radio-group",{staticStyle:{"margin-top":"-10px","margin-bottom":"-10px"},attrs:{row:"",rules:[e.validate.required]},model:{value:e.zone.schedule.type,callback:function(t){e.$set(e.zone.schedule,"type",t)},expression:"zone.schedule.type"}},e._l(e.lists.types,function(e){return a("v-radio",{key:e,attrs:{label:e,value:e}})}),1),"single"==e.zone.schedule.type?a("div",{staticClass:"dizagara-section",staticStyle:{"margin-bottom":"20px"}},[a("v-dialog",{ref:"menu",staticStyle:{"margin-top":"0px"},attrs:{"close-on-content-click":!1,"nudge-right":0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{"font-weight":"bold","margin-bottom":"-25px"},attrs:{dense:"",label:"Single Date","append-icon":"event",outlined:"",readonly:"","background-color":"yellow lighten-4",rules:[e.validate.required]},on:{blur:function(t){e.zone.schedule.date=e.parseDate(e.datePickers.date.dateFormatted)}},model:{value:e.datePickers.date.dateFormatted,callback:function(t){e.$set(e.datePickers.date,"dateFormatted",t)},expression:"datePickers.date.dateFormatted"}},s))]}}],null,!1,234293851),model:{value:e.datePickers.date.show,callback:function(t){e.$set(e.datePickers.date,"show",t)},expression:"datePickers.date.show"}},[a("v-date-picker",{attrs:{dense:"",color:"red lighten-1"},on:{input:function(t){e.datePickers.date.show=!1}},model:{value:e.zone.schedule.date,callback:function(t){e.$set(e.zone.schedule,"date",t)},expression:"zone.schedule.date"}})],1)],1):e._e(),"repeat"==e.zone.schedule.type?a("div",{staticClass:"dizagara-section",staticStyle:{"margin-bottom":"20px"}},[a("v-row",e._l(e.lists.days,function(t,s){return a("span",{key:t,staticStyle:{margin:"-20px 0px 20px 20px"}},[a("v-checkbox",{attrs:{"hide-details":"",label:t,rules:[e.validateRepeat]},model:{value:e.zone.schedule.repeat[s],callback:function(t){e.$set(e.zone.schedule.repeat,s,t)},expression:"zone.schedule.repeat[index]"}})],1)}),0),a("v-radio-group",{staticStyle:{margin:"-5px auto -10px 8px"},attrs:{row:"",rules:[e.validate.required]},model:{value:e.zone.schedule.frequency,callback:function(t){e.$set(e.zone.schedule,"frequency",t)},expression:"zone.schedule.frequency"}},e._l(e.lists.frequency,function(e){return a("v-radio",{key:e,attrs:{label:e,value:e}})}),1),"range"==e.zone.schedule.frequency?a("v-row",[a("v-dialog",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{"font-weight":"bold",margin:"0px 10px -20px 20px"},attrs:{dense:"",label:"Start Date","append-icon":"event",outlined:"",readonly:"","background-color":"yellow lighten-4",rules:[e.validate.required]},on:{blur:function(t){e.zone.schedule.rangeStart=e.parseDate(e.datePickers.rangeStart.dateFormatted)}},model:{value:e.datePickers.rangeStart.dateFormatted,callback:function(t){e.$set(e.datePickers.rangeStart,"dateFormatted",t)},expression:"datePickers.rangeStart.dateFormatted"}},s))]}}],null,!1,93282550),model:{value:e.datePickers.rangeStart.show,callback:function(t){e.$set(e.datePickers.rangeStart,"show",t)},expression:"datePickers.rangeStart.show"}},[a("v-date-picker",{attrs:{dense:"",color:"red lighten-1"},on:{input:function(t){e.datePickers.rangeStart.show=!1}},model:{value:e.zone.schedule.rangeStart,callback:function(t){e.$set(e.zone.schedule,"rangeStart",t)},expression:"zone.schedule.rangeStart"}})],1),a("v-dialog",{ref:"menu",staticStyle:{margin:"0px 10px 0px 10px"},attrs:{"close-on-content-click":!1,"nudge-right":0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{"font-weight":"bold",margin:"0px 20px -20px 10px"},attrs:{dense:"",label:"End Date","append-icon":"event",outlined:"",readonly:"","background-color":"yellow lighten-4",rules:[e.validate.required]},on:{blur:function(t){e.zone.schedule.rangeEnd=e.parseDate(e.datePickers.rangeEnd.dateFormatted)}},model:{value:e.datePickers.rangeEnd.dateFormatted,callback:function(t){e.$set(e.datePickers.rangeEnd,"dateFormatted",t)},expression:"datePickers.rangeEnd.dateFormatted"}},s))]}}],null,!1,2017578486),model:{value:e.datePickers.rangeEnd.show,callback:function(t){e.$set(e.datePickers.rangeEnd,"show",t)},expression:"datePickers.rangeEnd.show"}},[a("v-date-picker",{attrs:{dense:"",color:"red lighten-1"},on:{input:function(t){e.datePickers.rangeEnd.show=!1}},model:{value:e.zone.schedule.rangeEnd,callback:function(t){e.$set(e.zone.schedule,"rangeEnd",t)},expression:"zone.schedule.rangeEnd"}})],1)],1):e._e()],1):e._e(),a("v-row",[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.zone.schedule.start,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.zone.schedule,"start",t)},"update:return-value":function(t){return e.$set(e.zone.schedule,"start",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{width:"50px",margin:"0px 10px 0px 10px","font-weight":"bold"},attrs:{outlined:"",dense:"",autocomplete:"off",label:"Start Time","append-icon":"mdi-clock-outline","background-color":"yellow lighten-4",color:"rgba(77, 187, 64, 1.0)",readonly:""},model:{value:e.zone.schedule.start,callback:function(t){e.$set(e.zone.schedule,"start",t)},expression:"zone.schedule.start"}},s))]}}]),model:{value:e.timePickers.start.show,callback:function(t){e.$set(e.timePickers.start,"show",t)},expression:"timePickers.start.show"}},[e.timePickers.start.show?a("v-time-picker",{attrs:{format:"24hr",color:"red lighten-1"},on:{"click:minute":function(t){return e.closeTimePicker("start",e.zone.schedule.start)}},model:{value:e.zone.schedule.start,callback:function(t){e.$set(e.zone.schedule,"start",t)},expression:"zone.schedule.start"}}):e._e()],1),a("v-dialog",{ref:"dialog",attrs:{"return-value":e.zone.end,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.zone,"end",t)},"update:return-value":function(t){return e.$set(e.zone,"end",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticStyle:{width:"50px",margin:"0px 10px 0px 10px","font-weight":"bold"},attrs:{outlined:"",dense:"",autocomplete:"off",label:"End Time","append-icon":"mdi-clock-outline","background-color":"yellow lighten-4",color:"rgba(77, 187, 64, 1.0)",readonly:""},model:{value:e.zone.schedule.end,callback:function(t){e.$set(e.zone.schedule,"end",t)},expression:"zone.schedule.end"}},s))]}}]),model:{value:e.timePickers.end.show,callback:function(t){e.$set(e.timePickers.end,"show",t)},expression:"timePickers.end.show"}},[e.timePickers.end.show?a("v-time-picker",{attrs:{format:"24hr",color:"red lighten-1"},on:{"click:minute":function(t){return e.closeTimePicker("end",e.zone.schedule.end)}},model:{value:e.zone.schedule.end,callback:function(t){e.$set(e.zone.schedule,"end",t)},expression:"zone.schedule.end"}}):e._e()],1)],1)],1)],1),a("v-card-actions",{staticStyle:{"margin-top":"-40px"}},[a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-button-width-short",attrs:{dense:""},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"confirmIcon"}}),e._v("\r\n\t\t\t"+e._s(this.params.isNew?"ADD":"EDIT")+"\r\n\t\t")]),e.params.isNew?e._e():a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-short",staticStyle:{"margin-left":"20px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.closeDialog("delete")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"deleteIcon"}}),e._v("\r\n\t\t\tDELETE\r\n\t\t")]),a("v-btn",{staticClass:"dizagara-button-red dizagara-button-width-short",staticStyle:{"margin-left":"20px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"cancelIcon"}}),e._v("\r\n\t\t\tCANCEL\r\n\t\t")])],1)],1)],1)],1)],1)])},We=[],Ge={name:"zone",components:{},props:["data","params"],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("zone")),$("#confirmIcon").addClass(y.a.getIcon("submit")),$("#deleteIcon").addClass(y.a.getIcon("delete")),$("#cancelIcon").addClass(y.a.getIcon("cancel"))},0),this.params.isNew||(this.zone=w.a.deepClone(this.data)||{}),this.zone.schedule.start=Z.a.getPickerTime(this.params.event.start),this.zone.schedule.end=Z.a.getPickerTime(this.params.event.end),this.zone.schedule.date=Z.a.getPickerDate(this.params.event.start),this.datePickers.date.dateFormatted=this.formatDate(this.zone.schedule.date),this.zone.location.center=this.params.center,this.zone.location.room=this.params.room;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeDialog:function(e){var t=this;if("cancel"!=e){if(!this.$refs.form.validate())return void toastr.error(y.a.getToast("genericFormError"),"",{closeButton:!0,positionClass:"toast-bottom-right"});Object.keys(this.zone.schedule).forEach(function(e){t.zone.schedule[e]||delete t.zone.schedule[e]}),this.zone.label=this.zone.label.trim();var a="01/01/01 ".concat(this.zone.schedule.start),s="01/01/01 ".concat(this.zone.schedule.end);if(w.a.getHoursFromTwo(a,s)<=0)return void toastr.error("End time must be after start time!","",{closeButton:!0,positionClass:"toast-bottom-right"})}this.zone.modBy=this.$route.params.id,this.zone.modDate=moment(),this.$emit("closeDialog",{action:e,data:this.zone})},validateRepeat:function(){return!this.zone.schedule.repeat.every(function(e){return!e})},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(V["a"])(t,3),s=a[0],i=a[1],n=a[2];return"".concat(i,"/").concat(n,"/").concat(s)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(V["a"])(t,3),s=a[0],i=a[1],n=a[2];return"".concat(n,"-").concat(s.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},getNow:function(e){var t=new Date;return t.setDate(t.getDate()+e),t.toISOString().substr(0,10)},closeTimePicker:function(e,t){var a=this;this.timePickers[e].show=!1,setTimeout(function(){a.zone.schedule[e]=t},0)}},watch:{datePickers:{deep:!0,handler:function(){var e=this;Object.keys(this.datePickers).forEach(function(t){e.datePickers[t].dateFormatted=e.formatDate(e.zone.schedule[t])})}}},data:function(e){return{lists:{types:["single","repeat"],frequency:["forever","range"],days:["sun","mon","tue","wed","thu","fri","sat"]},datePickers:{date:{show:!1,dateFormatted:""},rangeStart:{show:!1,dateFormatted:""},rangeEnd:{show:!1,dateFormatted:""}},timePickers:{start:{show:!1},end:{show:!1}},zone:{label:"",location:{center:{},room:{}},schedule:{start:"",end:"",type:"single",date:"",repeat:[!1,!1,!1,!1,!1,!1,!1],rangeStart:"",rangeEnd:"",frequency:""}},validate:{required:function(e){return!!e||"Entry is required!"},number:function(e){return!isNaN(e)||"Number is required!"}}}}},Xe=Ge,Ze=Object(z["a"])(Xe,Je,We,!1,null,null,null),Qe=Ze.exports,et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-mask",attrs:{transition:"modal"}},[a("div",{staticClass:"center-block",staticStyle:{width:"325px","margin-top":"calc(40vh)"}},[a("v-card",{staticClass:"dizagara-outline-blue",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog("submit")}}},[a("v-card-title",{staticClass:"headline primary",staticStyle:{color:"white"},attrs:{"primary-title":""}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"headerIcon"}}),e._v("\r\n        Event Type\r\n    ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-card-text",{staticClass:"text-center",staticStyle:{"padding-bottom":"0px","font-weight":"bold"}},[a("span",{staticClass:"text-primary",staticStyle:{"text-align":"center",margin:"auto"}},[e._v("What type of event is this?")]),a("v-radio-group",{staticStyle:{"margin-bottom":"-20px"},attrs:{rules:[e.validate.required]},model:{value:e.event.type,callback:function(t){e.$set(e.event,"type",t)},expression:"event.type"}},e._l(e.lists.types,function(e){return a("span",{key:e.key},[a("v-radio",{attrs:{label:e.name,value:e.key}})],1)}),0)],1),a("v-card-actions",[a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{"margin-right":"10px",width:"125px"},attrs:{id:"firstFocus"},on:{click:function(t){return e.closeDialog("submit")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"submitIcon"}}),e._v("\r\n                    SUBMIT\r\n                ")]),a("v-btn",{staticClass:"dizagara-button-red",staticStyle:{"margin-left":"10px",width:"125px"},on:{click:function(t){return e.closeDialog("cancel")}}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"cancelIcon"}}),e._v("\r\n                    CANCEL\r\n                ")])],1)],1)],1)],1)],1)],1)])},tt=[],at={name:"event",components:{},props:[],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:setTimeout(function(){$("#firstFocus").focus(),$("#headerIcon").addClass(y.a.getIcon("schedule")),$("#submitIcon").addClass(y.a.getIcon("submit")),$("#cancelIcon").addClass(y.a.getIcon("cancel"))},0);case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeDialog:function(e){"cancel"==e||this.$refs.form.validate()?this.$emit("closeDialog",{action:e,data:{type:this.event.type}}):toastr.error(y.a.getToast("genericFormError"),"",{closeButton:!0,positionClass:"toast-bottom-right"})}},data:function(e){return{event:{type:""},lists:{types:[{key:"zone",name:"Restriction Zone"},{key:"schedule",name:"Surgery Procedure"}]},validate:{required:function(e){return!!e||y.a.getToast("validatorRequired")}}}}},st=at,it=Object(z["a"])(st,et,tt,!1,null,null,null),nt=it.exports,rt={name:"scheduling",components:{banner:Se,schedule:Ke,zone:Qe,event:nt,save:me},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return setTimeout(function(){$("#zoneIcon").addClass(y.a.getIcon("add")),$("#exportIcon").addClass(y.a.getIcon("download")),$("#saveIcon").addClass(y.a.getIcon("save")),$("#viewIcon").addClass(y.a.getIcon("show"))},0),e.next=3,f.getUser({id:this.$route.params.id});case 3:return this.user=e.sent,e.next=6,f.getCollection({collection:"schedules"});case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=[];case 9:return this.schedules=e.t0,e.next=12,f.getCollection({collection:"zones"});case 12:if(e.t1=e.sent,e.t1){e.next=15;break}e.t1=[];case 15:return this.zones=e.t1,this.original.schedules=w.a.deepClone(this.schedules),this.original.zones=w.a.deepClone(this.zones),e.next=20,f.getCollection({collection:"preps"});case 20:if(e.t2=e.sent,e.t2){e.next=23;break}e.t2=[];case 23:return t=e.t2,this.props.preps={},this.props.preps.patients=t.filter(function(e){return"patient"==e.type}),e.next=28,f.getCollection({collection:"centers"});case 28:if(e.t3=e.sent,e.t3){e.next=31;break}e.t3=[];case 31:this.props.centers=e.t3,this.props.centers&&this.props.centers.length&&(this.filter.center=this.props.centers[0]),this.loadEvents(!0),this.ready=!0,this.scrollToTime(),this.updateTime(),toastr.info("Click and drag anywhere on the calendar to create a schedule event!","",{closeButton:!0,positionClass:"toast-bottom-right"});case 38:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),beforeRouteLeave:function(e,t,a){if(this.redirect.hasConfirmed)this.redirect.hasConfirmed=!1,a();else{var s={schedules:JSON.stringify(this.original.schedules),zones:JSON.stringify(this.original.zones)},i={schedules:JSON.stringify(this.schedules),zones:JSON.stringify(this.zones)};0!=s.schedules.localeCompare(i.schedules)||0!=s.zones.localeCompare(i.zones)?(this.redirect.path=e.fullPath,this.params.dialog="save",this.dialogs.save.show=!0):a()}},methods:{loadEvents:function(e){var t=this;this.events=[],e&&this.filter.center.rooms.length&&(this.filter.rooms=[],this.filter.rooms.push(this.filter.center.rooms[0])),this.schedules.forEach(function(e){t.filter.center._id==e.location.center._id&&t.filter.center.rooms.some(function(a){return t.filter.rooms.some(function(e){return a.key==e.key})&&a.key==e.location.room.key})&&t.events.push({name:"".concat(e.patient.first," ").concat(e.patient.last," - ").concat(e.procedure.procedure.name),color:t.getColor(e.location.room.key),start:moment("".concat(e.schedule.date," ").concat(e.schedule.start)).valueOf(),end:moment("".concat(e.schedule.date," ").concat(e.schedule.end)).valueOf(),timed:!0,type:"schedule",key:e._id,isNew:!1})}),this.zones.forEach(function(e){if(t.filter.center._id==e.location.center._id&&t.filter.center.rooms.some(function(a){return t.filter.rooms.some(function(e){return a.key==e.key})&&a.key==e.location.room.key})){var a=[];if("single"==e.schedule.type)a.push({start:moment("".concat(e.schedule.date," ").concat(e.schedule.start)).valueOf(),end:moment("".concat(e.schedule.date," ").concat(e.schedule.end)).valueOf()});else if("repeat"==e.schedule.type){var s="",i="";"forever"==e.schedule.frequency?(s=moment(t.range.start.date).startOf("day"),i=moment(t.range.end.date).startOf("day")):"range"==e.schedule.frequency&&(s=moment(e.schedule.rangeStart).startOf("day"),i=moment(e.schedule.rangeEnd).startOf("day"));while(s.diff(i)<=0){var n=s.format("YYYY-MM-DD"),r=s.day();e.schedule.repeat[r]&&a.push({start:moment("".concat(n," ").concat(e.schedule.start)).valueOf(),end:moment("".concat(n," ").concat(e.schedule.end)).valueOf()}),s.add(1,"days")}}a.forEach(function(a){t.events.push({name:"".concat(e.label),color:"deep-orange",start:a.start,end:a.end,timed:!0,type:"zone",key:e._id,isNew:!1})})}})},startDrag:function(e){var t=e.event,a=e.timed;t.type?this.abortEvent=!0:t&&a&&(this.dragEvent=t,this.dragTime=null,this.extendOriginal=null)},startTime:function(e,t,a,s){var i=this;if(1!=this.filter.center.rooms.filter(function(e){return i.filter.rooms.some(function(t){return e.key==t.key})}).length)return $("#filterRooms").effect("shake",{times:2,distance:5},400),void toastr.error("Exactly ONE room must be filtered to add an event!","",{closeButton:!0,positionClass:"toast-bottom-right"});if(this.abortEvent)this.abortEvent=!1;else{var n=this.toTime(e);if(this.dragEvent&&null===this.dragTime){var r=this.dragEvent.start;this.dragTime=n-r}else this.createStart=this.roundTime(n),this.createEvent={name:"Draft Event #".concat(this.events.length+1),color:"grey",start:this.createStart,end:this.createStart,timed:!0,isNew:!0},this.events.push(this.createEvent)}},mouseMove:function(e){var t=this.toTime(e);if(this.dragEvent&&null!==this.dragTime){var a=this.dragEvent.start,s=this.dragEvent.end,i=s-a,n=t-this.dragTime,r=this.roundTime(n),o=r+i;this.dragEvent.start=r,this.dragEvent.end=o}else if(this.createEvent&&null!==this.createStart){var c=this.roundTime(t,!1),l=Math.min(c,this.createStart),d=Math.max(c,this.createStart);this.createEvent.start=l,this.createEvent.end=d}},endDrag:function(){this.dragTime=null,this.dragEvent=null,this.createEvent=null,this.createStart=null,this.extendOriginal=null},cancelDrag:function(){if(this.createEvent)if(this.extendOriginal)this.createEvent.end=this.extendOriginal;else{var e=this.events.indexOf(this.createEvent);-1!==e&&this.events.splice(e,1)}this.createEvent=null,this.createStart=null,this.dragTime=null,this.dragEvent=null},roundTime:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=15,s=60*a*1e3;return t?e-e%s:e+(s-e%s)},toTime:function(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute).getTime()},getEventColor:function(e){return e.color},getColor:function(e){var t=this.filter.center.rooms.findIndex(function(t){return t.key==e});return this.colors[parseInt(t%this.colors.length)]},toggleFilters:function(){this.viewAll=!this.viewAll;var e=this.viewAll?"show":"hide",t=this.viewAll?"hide":"show";$("#viewIcon").removeClass(y.a.getIcon(e)),$("#viewIcon").addClass(y.a.getIcon(t)),this.viewAll?this.filter.rooms=w.a.deepClone(this.filter.center.rooms):this.filter.rooms=[],this.loadEvents()},closeDialog:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("save"!=this.params.dialog){e.next=18;break}if(this.dialogs.save.show=!1,"submit"!=t.action){e.next=8;break}this.saveEvents(),this.redirect.hasConfirmed=!0,this.$router.push({path:this.redirect.path}),e.next=16;break;case 8:if("ignore"!=t.action){e.next=13;break}this.redirect.hasConfirmed=!0,this.$router.push({path:this.redirect.path}),e.next=16;break;case 13:if("cancel"!=t.action){e.next=16;break}return this.params.dialog="other",e.abrupt("return");case 16:e.next=24;break;case 18:if(this.dialogs[this.params.type].show=!1,"cancel"!=t.action){e.next=23;break}return e.abrupt("return");case 23:"event"==this.params.type?(this.params.type=t.data.type,this.dialogs[this.params.type].show=!0):"zone"!=this.params.type&&"schedule"!=this.params.type||(a="","submit"==t.action?this.params.isNew?(a="added",s=this["".concat(this.params.type,"s")].map(function(e){return e._id}),t.data._id="".concat(this.params.type.slice(0,3),"#").concat(w.a.getNextId(s)),this["".concat(this.params.type,"s")].push(t.data)):(a="edited",this["".concat(this.params.type,"s")][this.params.index]=w.a.deepClone(t.data)):"delete"==t.action&&(a="deleted",this["".concat(this.params.type,"s")].splice([this.params.index],1)),toastr.info("".concat(Z.a.capitalizeFirst(this.params.type),"(s) ").concat(a," successfully!"),"",{closeButton:!0,positionClass:"toast-bottom-right"}),this.loadEvents());case 24:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},extendBottom:function(e){e.type?toastr.error("Can not drag event after it's already created, open the dialog to modify date times!","",{closeButton:!0,positionClass:"toast-bottom-right"}):(this.createEvent=e,this.createStart=e.start,this.extendOriginal=e.end)},editEvent:function(e){e.nativeEvent;var t=e.event;this.filter.rooms.length>1||(this.params.zones=w.a.deepClone(this.zones),this.params.schedules=w.a.deepClone(this.schedules),this.params.center=this.filter.center,this.params.room=this.filter.rooms[0],this.params.isNew=t.isNew,this.params.event=t,this.params.type="",t.isNew?["master","center"].includes(this.user.privilege)?this.params.type="event":this.params.type="schedule":(this.params.type=t.type,"zone"==t.type?(this.params.index=this.zones.findIndex(function(e){return e._id==t.key}),this.zone=w.a.deepClone(this.zones[this.params.index])):"schedule"==t.type&&(this.params.index=this.schedules.findIndex(function(e){return e._id==t.key}),this.schedule=w.a.deepClone(this.schedules[this.params.index]))),this.dialogs[this.params.type].show=!0)},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},updateRange:function(e){var t=e.start,a=e.end;this.range.start=t,this.range.end=a,this.loadEvents()},removeFilter:function(e){this.filter.rooms.splice(e,1),this.loadEvents()},getCurrentTime:function(){return this.cal?60*this.cal.times.now.hour+this.cal.times.now.minute:0},scrollToTime:function(){var e=this.getCurrentTime(),t=Math.max(0,e-e%30-30);this.cal.scrollToTime(t)},updateTime:function(){var e=this;setInterval(function(){return e.cal.updateTimes()},6e4)},saveEvents:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.setCollection({collection:"schedules",data:this.schedules});case 2:return e.next=4,f.setCollection({collection:"zones",data:this.zones});case 4:this.original.schedules=w.a.deepClone(this.schedules),this.original.zones=w.a.deepClone(this.zones),toastr.success("Event(s) saved successfully!","",{closeButton:!0,positionClass:"toast-bottom-right"});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),flattenAsIs:function(e,t){Object.keys(t).forEach(function(a){"boolean"==typeof t[a]?t[a]?e[a]="yes":e[a]="no":e[a]=t[a]?t[a]:"(none)"})},exportSpreadsheet:function(){var e=this,t=[],a=[];this.schedules.forEach(function(t){var s={};Object.keys(t).forEach(function(a){"location"==a?(s.center=Z.a.getKeyValueFriendly(t[a].center._id,t[a].center.name),s.room=Z.a.getKeyValueFriendly(t[a].room.key,t[a].room.name)):"patient"==a?(s.patient=Z.a.getKeyValueFriendly(t[a].id,"".concat(t[a].first," ").concat(t[a].last)),s.patientPreps=t[a]&&t[a].preps&&t[a].preps.length?t[a].preps.map(function(e){return Z.a.getKeyValueFriendly(e.key,e.name)}).join("+"):"(none)"):"communication"==a?e.flattenAsIs(s,t[a]):"diagnose"==a?(s.diagnose=Z.a.getKeyValueFriendly(t[a].diagnose._id,"".concat(t[a].diagnose.name)),s.code=Z.a.getKeyValueFriendly(t[a].code._id,"".concat(t[a].code.name))):"procedure"==a?(s.procedure=Z.a.getKeyValueFriendly(t[a].procedure._id,"".concat(t[a].procedure.name)),s.code=Z.a.getKeyValueFriendly(t[a].code._id,"".concat(t[a].code.name)),s.physician=Z.a.getKeyValueFriendly(t[a].physician._id,"".concat(t[a].physician.first," ").concat(t[a].physician.last)),s.procedurePreps=t[a]&&t[a].preps&&t[a].preps.length?t[a].preps.map(function(e){return Z.a.getKeyValueFriendly(e.key,e.name)}).join("+"):"(none)"):"schedule"==a?e.flattenAsIs(s,t[a]):"insurance"==a?(s.primary=Z.a.getKeyValueFriendly(t[a].primary._id,"".concat(t[a].primary.name)),s.secondary=Z.a.getKeyValueFriendly(t[a].secondary._id,"".concat(t[a].secondary.name))):"comments"==a?e.flattenAsIs(s,t[a]):"track"!=a&&(s[a]="modDate"==a?Z.a.getFriendlyDate(t[a]):t[a])}),a.push(s)}),a.forEach(function(e){return delete e.isShow});var s=Object.keys(a[0]);t.push(s),a.forEach(function(e){var a=[];s.forEach(function(t){var s=e[t].toString();s=s.replace(/#/g,""),s=s.replace(/,/g," "),a.push(s)}),t.push(a)});var i="data:text/csv;charset=utf-8,"+t.map(function(e){return e.join(",")}).join("\n"),n=encodeURI(i),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","schedules.csv"),document.body.appendChild(r),r.click()}},mounted:function(){this.$refs.calendar.checkChange()},computed:{cal:function(){return this.ready?this.$refs.calendar:null},nowY:function(){return this.cal?this.cal.timeToY(this.cal.times.now)+"px":"-10px"}},data:function(e){return{value:"",user:{},ready:!1,abortEvent:!1,redirect:{path:"",hasConfirmed:!1},filter:{center:{rooms:[]},rooms:[]},viewAll:!1,props:{},params:{},original:{schedules:[],zones:[]},zone:{},zones:[],schedule:{},schedules:[],focus:"",type:"week",typeLabels:{month:"Month",week:"Week",day:"Day"},selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],colors:["indigo","blue","cyan","teal","green","light-green","lime","amber","orange","pink lighten-2","pink","purple","deep-purple"],range:{start:{},end:{}},dialogs:{schedule:{show:!1,dialog:"schedule"},zone:{show:!1,dialog:"zone"},event:{show:!1,dialog:"event"},save:{show:!1}}}}},ot=rt,ct=Object(z["a"])(ot,Be,Le,!1,null,null,null),lt=ct.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("transition",{attrs:{name:"fade"}},[e.dialogs.save.show?a("save",{on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("banner",{staticClass:"no-print"}),a("v-card-title",{staticClass:"dizagara-sub-header"},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"headerIcon"}}),a("span",[e._v(e._s(e.title))]),a("v-btn",{staticClass:"dizagara-button-green",staticStyle:{position:"absolute",right:"15px",width:"100px !important"},attrs:{dense:"",dark:""},on:{click:function(t){return e.save()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"saveIcon"}}),e._v("\r\n          SAVE\r\n        ")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[e.configs?a("span",e._l(Object.keys(e.configs),function(t){return a("span",{key:t},["_id"!=t?a("v-text-field",{staticStyle:{width:"450px",display:"inline-block",margin:"20px 10px -20px 10px"},attrs:{dense:"",outlined:"",autocomplete:"off","background-color":"yellow lighten-4",placeholder:e.getPlaceholder(t),label:e.getLabel(t),type:"text",rules:e.auxies.some(function(e){return e.key==t&&"number"==e.type})?[e.validate.required,e.validate.number]:[e.validate.required]},model:{value:e.configs[t],callback:function(a){e.$set(e.configs,t,a)},expression:"configs[key]"}}):e._e()],1)}),0):e._e()])],1)],1)},ut=[],pt={name:"settings",components:{banner:Se,save:me},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.userId=this.$route.params.id,this.prop=this.$route.params.prop,setTimeout(function(){$("#headerIcon").addClass(y.a.getIcon(t.prop)),$("#saveIcon").addClass(y.a.getIcon("save"))},0),this.title="".concat(Z.a.capitalizeFirst(this.prop)),e.next=6,f.getConfig({config:this.prop});case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=[];case 9:this.configs=e.t0,this.original=w.a.deepClone(this.configs);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),beforeRouteUpdate:function(e,t,a){if(this.redirect.hasConfirmed)this.redirect.hasConfirmed=!1,a();else{var s=JSON.stringify(this.original),i=JSON.stringify(this.configs);0!=s.localeCompare(i)?(this.redirect.path=e.fullPath,this.dialogs.save.show=!0):a()}},methods:{closeDialog:function(e){if(this.dialogs.save.show=!1,"submit"==e.action)this.save(),this.redirect.hasConfirmed=!0,this.$router.push({path:this.redirect.path});else if("ignore"==e.action)this.redirect.hasConfirmed=!0,this.$router.push({path:this.redirect.path});else if("cancel"==e.action)return},getPlaceholder:function(e){return e=this.spaceMultiKeys(e),"Type ".concat(e,"...")},getLabel:function(e){return e=this.spaceMultiKeys(e),"".concat(Z.a.capitalizeFirst(e))},spaceMultiKeys:function(e){var t=this.auxies.find(function(t){return t.key==e});return t?t.friendly:e},save:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.form.validate()){e.next=3;break}return toastr.error(y.a.getToast("genericFormError"),"",{closeButton:!0,positionClass:"toast-bottom-right"}),e.abrupt("return");case 3:return e.next=5,f.setDocument({collection:"configs",item:this.configs});case 5:this.original=w.a.deepClone(this.configs),toastr.success("Settings saved successfully!","",{closeButton:!0,positionClass:"toast-bottom-right"});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},data:function(e){return{redirect:{path:"",hasConfirmed:!1},userId:"",prop:"",title:"",original:[],configs:[],auxies:[{key:"logAttempts",friendly:"log Attempts",type:"number"},{key:"lockDuration",friendly:"lock Duration",type:"number"},{key:"idleDuration",friendly:"idle Duration",type:"number"}],dialogs:{save:{show:!1}},validate:{required:function(e){return!!e||"Entry is required!"},number:function(e){return!isNaN(e)||"Number is required!"}}}}},ht=pt,mt=Object(z["a"])(ht,dt,ut,!1,null,null,null),gt=mt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("transition",{attrs:{name:"fade"}},[e.dialogs.save.show?a("save",{on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.confirm.show?a("confirm",{attrs:{data:e.dialogs.confirm.question},on:{processConfirmation:function(t){return e.processConfirmation(t)}}}):e._e()],1),a("transition",{attrs:{name:"fade"}},[e.dialogs.schedule.show?a("schedule",{attrs:{data:e.schedule,params:e.params},on:{closeDialog:function(t){return e.closeDialog(t)}}}):e._e()],1),a("banner",{staticClass:"no-print"}),a("v-card-title",{staticStyle:{color:"white","background-color":"#192c45 !important"},attrs:{"primary-title":""}},[a("span",{staticClass:"mdi mdi-24px dizagara-margin-right",attrs:{id:"headerIcon"}}),a("small",[e._v(e._s(e.title))]),a("v-btn",{staticClass:"dizagara-button-blue",staticStyle:{position:"absolute",right:"295px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.exportSpreadsheet()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"exportIcon"}}),e._v("\r\n        EXPORT\r\n      ")]),a("v-btn",{staticClass:"dizagara-button-red",staticStyle:{position:"absolute",right:"130px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.deleteAll()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"deleteIcon"}}),e._v("\r\n        DELETE ALL\r\n      ")]),a("v-btn",{staticClass:"dizagara-button-green",staticStyle:{position:"absolute",right:"15px"},attrs:{dense:"",dark:""},on:{click:function(t){return e.save()}}},[a("span",{staticClass:"mdi mdi-18px dizagara-margin-right",attrs:{id:"saveIcon"}}),e._v("\r\n        SAVE\r\n      ")])],1),a("span",{staticStyle:{"overflow-y":"auto",height:"calc(100vh - 150px)"}},[a("v-card-title",{staticStyle:{"margin-bottom":"-40px"}},[a("v-text-field",{staticStyle:{"margin-right":"10px"},attrs:{dense:"",outlined:"",autocomplete:"off","append-icon":"mdi-magnify","background-color":"yellow lighten-4",placeholder:"Type search term.",label:"Filter Term"},on:{keyup:e.filterTerm},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),a("v-autocomplete",{staticStyle:{"margin-left":"10px"},attrs:{dense:"",outlined:"","background-color":"yellow lighten-4",items:e.filterCols,"item-text":function(e){return e.name},"item-value":function(e){return e.key},label:"Filter Column"},on:{change:e.filterTerm},model:{value:e.filterCol,callback:function(t){e.filterCol=t},expression:"filterCol"}})],1),e.schedules.length&&e.isShows?a("v-simple-table",{staticStyle:{margin:"20px","padding-bottom":"20px"},on:{sorted:e.saveOrder},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[e._l(e.headers,function(t){return a("th",{key:t.key,staticClass:"text-left",style:"track"==t.key?"width: 1000px; text-align: center !important;":""},[e._v("\r\n                "+e._s("isShow"==t.key?"":t.name)+"\r\n              "),"isShow"!=t.key?a("v-btn",{class:0==t.sort?"dizagara-button-blue dizagara-round-small":"dizagara-button-green dizagara-round-small",staticStyle:{"margin-right":"10px"},attrs:{dense:"",dark:"",small:"",icon:"",title:"Sort header."},on:{click:function(a){return e.sortHeader(t)}}},[1==t.sort?a("span",{staticClass:"mdi mdi-12px mdi-arrow-up"}):e._e(),0==t.sort?a("span",{staticClass:"mdi mdi-12px mdi-minus"}):e._e(),-1==t.sort?a("span",{staticClass:"mdi mdi-12px mdi-arrow-down"}):e._e()]):e._e()],1)}),a("th",{staticClass:"text-center"},[e._v("\r\n                Action\r\n              ")])],2)]),a("tbody",e._l(e.schedules,function(t,s){return a("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"item.isShow"}],key:t._id},[e._l(e.keys,function(s){return a("td",{key:s,staticClass:"text-left"},["_id"==s?a("span",[a("v-chip",{attrs:{dark:""}},[e._v("\r\n                    "+e._s(t._id)+"\r\n                    ")])],1):"patient"==s?a("span",[e._v("\r\n                    "+e._s(t[s].first)+", "+e._s(t[s].last)+"\r\n                  ")]):"stage"==s?a("span",["drafted"==t[s]?a("v-chip",{attrs:{dark:"",color:"error"}},[a("strong",[e._v("DRAFTED")])]):e._e(),"submitted"==t[s]?a("v-chip",{attrs:{dark:"",color:"warning"}},[a("strong",[e._v("SUBMITTED")])]):e._e(),"approved"==t[s]?a("v-chip",{attrs:{dark:"",color:"success"}},[a("strong",[e._v("APPROVED")])]):e._e()],1):"track"==s?a("span",["approved"==t["stage"]?a("v-slider",{attrs:{step:100/(e.tracks.length-1),"tick-labels":e.tracks,ticks:""},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var a=t.value;return[e._v("\r\n                      "+e._s(Math.floor(a/(100/(e.tracks.length-1))))+"           \r\n                      ")]}}],null,!0),model:{value:t.track,callback:function(a){e.$set(t,"track",a)},expression:"item.track"}}):e._e(),"approved"!=t["stage"]?a("label",{staticClass:"text-danger"},[e._v("\r\n                      Track will display after schedule has been approved\r\n                    ")]):e._e()],1):"modBy"==s?a("span",[e._v("\r\n                   "+e._s(t[s])+"\r\n                  ")]):"modDate"==s?a("span",[e._v("\r\n                   "+e._s(e.getFriendlyDateTime(t[s]))+"\r\n                  ")]):e._e()])}),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"dizagara-button-blue dizagara-round-medium",staticStyle:{"margin-right":"10px"},attrs:{dense:"",dark:"",small:"",icon:"",title:"Edit this item."},on:{click:function(a){return e.edit(t)}}},[a("span",{staticClass:"mdi mdi-18px mdi-pencil"})]),a("v-btn",{staticClass:"dizagara-button-red dizagara-round-medium",attrs:{dense:"",dark:"",small:"",icon:"",title:"Delete this item."},on:{click:function(t){return e.remove(s)}}},[a("span",{staticClass:"mdi mdi-18px mdi-close"})])],1)],2)}),0)]},proxy:!0}],null,!1,4245347716)}):e._e()],1),e.schedules.length&&e.isShows?e._e():a("label",{staticStyle:{color:"gray","text-align":"center",margin:"20px auto auto auto"}},[e._v("No Data")])],1)},vt=[],bt={name:"tracking",components:{confirm:ae,banner:Se,schedule:Ke,save:me},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.getCollection({collection:"tracks"});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return t=e.t0,e.next=8,f.getCollection({collection:"schedules"});case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1=[];case 11:this.schedules=e.t1,this.original=w.a.deepClone(this.schedules),this.tracks=t.map(function(e){return e.name}),this.increment=100/(t.length-1),this.userId=this.$route.params.id,setTimeout(function(){$("#headerIcon").addClass(y.a.getIcon("track")),$("#addIcon").addClass(y.a.getIcon("add")),$("#saveIcon").addClass(y.a.getIcon("save")),$("#deleteIcon").addClass(y.a.getIcon("delete")),$("#exportIcon").addClass(y.a.getIcon("download"))},0),this.initTable();case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),beforeRouteLeave:function(e,t,a){if(this.redirect.hasConfirmed)this.redirect.hasConfirmed=!1,a();else{var s=w.a.deepClone(this.schedules);s.forEach(function(e){return delete e.isShow});var i=JSON.stringify(this.original),n=JSON.stringify(s);0!=i.localeCompare(n)?(this.redirect.path=e.fullPath,this.params.dialog="save",this.dialogs.save.show=!0):a()}},methods:{initTable:function(){var e=this;if(this.schedules.forEach(function(e){return e.isShow=!0}),this.headers=[],this.filterCols=[{key:"all",name:"All"}],this.filterCol=this.filterCols[0].key,this.schedules.length){var t=0;this.keys.forEach(function(a){var s=Z.a.capitalizeFirst(a);"_id"==a?s="Key":"modBy"==a&&0==t?(s="Moded By",t++):"modDate"==a&&1==t&&(s="Moded Date"),e.headers.push({key:a,name:s,type:Object(L["a"])(e.schedules[0][a]),sort:0}),e.omitFields.includes(a)||e.filterCols.push({key:a,name:s})})}},processConfirmation:function(e){"submit"==e&&"deleteAll"==this.dialogs.confirm.command&&(this.schedules=[]),this.dialogs.confirm.show=!1},getNextId:function(){var e=0;this.schedules.forEach(function(t){var a=t._id.split("#");e<parseInt(a[1])&&(e=a[1])}),e++,e=e.toString();while(e.length<3)e="0"+e;return e},closeDialog:function(e){if("save"==this.params.dialog){if(this.dialogs.save.show=!1,"submit"==e.action)this.save(),this.redirect.hasConfirmed=!0,this.$router.push({path:this.redirect.path});else if("ignore"==e.action)this.redirect.hasConfirmed=!0,this.$router.push({path:this.redirect.path});else if("cancel"==e.action)return void(this.params.dialog="other")}else{if(this.dialogs["schedule"].show=!1,"cancel"==e.action)return;"submit"==e.action?(this.schedules[this.params.index]=w.a.deepClone(e.data),this.initTable()):"delete"==e.action&&this.schedules.splice(this.params.index,1)}},edit:function(e){this.params.isNew=!1,this.params.isReview=!0,this.schedule=e,this.params.index=this.schedules.findIndex(function(t){return t._id==e._id}),this.dialogs.schedule.show=!0},remove:function(e){this.schedules.splice(e,1)},save:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=w.a.deepClone(this.schedules),t.forEach(function(e){delete e["isShow"]}),e.next=4,f.setCollection({collection:"schedules",data:t});case 4:this.original=w.a.deepClone(t),toastr.success("Schedule(s) saved successfully!","",{closeButton:!0,positionClass:"toast-bottom-right"});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),deleteAll:function(){this.dialogs.confirm.command="deleteAll",this.dialogs.confirm.question="Are you sure you want to delete all items?",this.dialogs.confirm.show=!0},sortHeader:function(e){var t=this;this.headers.forEach(function(t){t!=e&&(t.sort=0)}),-1==e.sort?e.sort=0:0==e.sort?(e.sort=1,this.schedules.sort(function(a,s){var i=t.getCompareObject(a,s,e.key);return"number"==e.type?i.first-i.second:i.first.localeCompare(i.second)})):1==e.sort&&(e.sort=-1,this.schedules.sort(function(a,s){var i=t.getCompareObject(a,s,e.key);return"number"==e.type?i.second-i.first:i.second.localeCompare(i.first)}))},getCompareObject:function(e,t,a){var s={first:"",second:""};return"patient"==a?(s.first="".concat(e[a].first,", ").concat(e[a].last),s.second="".concat(t[a].first,", ").concat(t[a].last)):(s.first=e[a],s.second=t[a]),s},saveOrder:function(e){this.schedules.splice(e.newIndex,0,this.schedules.splice(e.oldIndex,1)[0])},filterTerm:function(){var e=this;this.isShows=!0,this.schedules.forEach(function(t){t.isShow=!1;var a=Object.keys(t);if("all"==e.filterCol){for(var s=0;s<a.length;s++)if(!e.omitFields.includes(a[s])&&"string"==typeof t[a[s]]&&t[a[s]].toLowerCase().includes(e.searchTerm.toLowerCase())){t.isShow=!0;break}}else e.omitFields.includes(e.filterCol)||("patient"==e.filterCol&&"".concat(t.patient.first,", ").concat(t.patient.last).includes(e.searchTerm.toLowerCase())||"string"==typeof t[e.filterCol]&&t[e.filterCol].toLowerCase().includes(e.searchTerm.toLowerCase()))&&(t.isShow=!0)}),this.schedules.filter(function(e){return e.isShow}).length||(this.isShows=!1),this.schedules.push({}),this.schedules.pop()},getFriendlyDateTime:function(e){return Z.a.getFriendlyDateTime(e)},exportSpreadsheet:function(){var e=this,t=[],a=w.a.deepClone(this.schedules);a.forEach(function(e){return delete e.isShow});var s=["_id","patient","stage","track","modBy","modDate"];t.push(s),a.forEach(function(a){var i=[];s.forEach(function(t){if("patient"==t){var s="".concat(a[t].first," ").concat(a[t].last);i.push(s.replace(/#/g,""))}else if("track"==t)if(a[t]>1){var n=e.tracks[a[t]/e.increment];i.push(n)}else i.push("(none)");else"modDate"==t?i.push(Z.a.getFriendlyDate(a[t])):i.push(a[t].replace(/#/g,"").toString())}),t.push(i)});var i="data:text/csv;charset=utf-8,"+t.map(function(e){return e.join(",")}).join("\n"),n=encodeURI(i),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","".concat(this.prop,".csv")),document.body.appendChild(r),r.click()}},watch:{},data:function(e){return{redirect:{path:"",hasConfirmed:!1},isShows:!0,userId:"",prop:"tracking",title:"Tracking",increment:0,tracks:[],schedules:[],original:[],schedule:{},params:{},keys:["_id","patient","stage","track","modBy","modDate","isShow"],omitFields:["isShow","modDate","_id","track"],filterCol:"",filterCols:[],headers:[],searchTerm:"",deleteIndex:0,dialogs:{track:{show:!1,dialog:"generic",fields:["patient"],dropdowns:[{field:"patient",items:[]}]},schedule:{show:!1,dialog:"schedule"},confirm:{show:!1,command:"",question:""},save:{show:!1}}}}},xt=bt,yt=Object(z["a"])(xt,ft,vt,!1,null,null,null),kt=yt.exports,wt=[,{name:"login",path:"/login",component:q},{name:"settings",path:"/settings/:prop/:id",component:gt},{name:"properties",path:"/properties/:prop/:id",component:$e},{name:"tracking",path:"/tracking/:id",component:kt},{name:"dashboard",path:"/dashboard/:id",component:Ne},{name:"scheduling",path:"/scheduling/:id",component:lt},{name:"default",path:"*",redirect:"/login"}],Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{key:e.$route.fullPath})},_t=[],zt={},St=Object(z["a"])(zt,Ct,_t,!1,null,null,null),It=St.exports;s["default"].use(r["a"]),s["default"].use(n.a),s["default"].config.productionTip=!1,new s["default"]({router:new r["a"]({routes:wt}),vuetify:new n.a({}),render:function(e){return e(It)}}).$mount("#app")},"9d5e":function(e,t){e.exports={getIcon:function(e){var t={license:"mdi-license",delete:"mdi-close-circle",times:"mdi-close",caution:"mdi-alert",add:"mdi-plus-circle",submit:"mdi-check-circle",cancel:"mdi-cancel",track:"mdi-chart-timeline-variant",patient:"mdi-human-handsdown",save:"mdi-content-save",procedure:"mdi-jump-rope",room:"mdi-domain",physician:"mdi-hail",diagnose:"mdi-account-search",insurance:"mdi-credit-card",code:"mdi-needle",prep:"mdi-clipboard-list",redirect:"mdi-open-in-new",schedule:"mdi-calendar",communication:"mdi-web",archive:"mdi-archive",center:"mdi-webhook",other:"mdi-cube",time:"mdi-clock-outline",revise:"mdi-lead-pencil",user:"mdi-account-circle",hospital:"mdi-hospital-box",about:"mdi-information",logout:"mdi-logout",login:"mdi-login",password:"mdi-help-circle",help:"mdi-help",zone:"mdi-alert",settings:"mdi-settings",calibration:"mdi-speedometer",application:"mdi-application-import",eula:"mdi-draw",print:"mdi-printer",download:"mdi-download",refresh:"mdi-refresh",identity:"mdi-account-card-details-outline",authentication:"mdi-key",contact:"mdi-phone-forward",dashboard:"mdi-view-dashboard",clear:"mdi-eraser",show:"mdi-eye",hide:"mdi-eye-off",anesthesia:"mdi-pill",specialty:"mdi-school"};return t[e]||""},getToast:function(e){var t={genericFormError:"Form has errors!",validatorRequired:"Entry is required!"};return t[e]||""}}},f96e:function(e,t,a){e.exports=a.p+"img/banner.494e4cd1.jpg"},fa7d:function(e,t){e.exports={deepClone:function(e){return JSON.parse(JSON.stringify(e))},getNextId:function(e){for(var t=1,a=0;a<e.length;a++){var s=parseInt(e[a].substring(4));t<=s&&(t=s+1)}return t},getHoursFromTwo:function(e,t){var a=moment(t).diff(moment(e),"hours",!0);return Math.round(100*a)/100},getHoursFromNow:function(e){var t=moment(e).diff(moment(),"hours",!0);return Math.round(100*t)/100}}}});
//# sourceMappingURL=app.294523da.js.map